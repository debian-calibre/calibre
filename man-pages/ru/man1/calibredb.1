.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "CALIBREDB" "1" "января 06, 2023" "6.11.0" "calibre"
.SH NAME
calibredb \- calibredb
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb команда [опции] [аргументы]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBcalibredb\fP \- это интерфейс командной строки к базе данных calibre. Оно имеет
несколько подкоманд, описанных ниже.
.sp
\fBcalibredb\fP может использоваться для управления любой базой данных calibre
указывается путь или calibre Content server, работающий на
на локальном компьютере или через Интернет. Вы можете запустить
calibre Content server с помощью команды \fBcalibre\-server\fP
или в главной программе calibre нажав Подключить/поделиться  → Запустить Content server\&. Так как \fBcalibredb\fP может вносить изменения в ваш
calibre, вы должны сначала настроить аутентификацию на сервере.
Есть два способа сделать это:
.INDENT 0.0
.IP \(bu 2
Если вы планируете подключаться только к серверу, работающему на том же компьютере,
.UNINDENT
.sp
вы можете просто использовать параметр \-\-enable\-local\-write в
контент\-сервере, чтобы любая программа, включая calibredb, работала на
локальный компьютер, чтобы внести изменения в данные calibre. При запуске
сервера из главной программы calibre, эта опция есть в
Preferences\-Sharing over the net\-Advanced\&.
.INDENT 0.0
.IP \(bu 2
Если вы хотите разрешить доступ через Интернет, вам следует настроить
.UNINDENT
.sp
учетные записи пользователей на сервере и использовать \fI\%\-\-username\fP и :option:\(ga \-\-password\(ga
options to \fBcalibredb\fP, чтобы предоставить доступ. Вы можете настроить
аутентификацию пользователей для \fBcalibre\-server\fP с помощью\(ga \-\-enable\-auth\(ga
вариант и используя \fB\-\-manage\-users\fP для создания учетных записей пользователей.
Если вы запускаете сервер из главной программы calibre, используйте
Preferences\-Sharing over the net\-Require username / password\&.
.sp
Чтобы подключиться к работающему серверу содержимого, передайте URL\-адрес сервера в
параметр: option: \fI\-\-with\-library\fP, см. документацию по этому параметру.
.INDENT 0.0
.IP \(bu 2
\fI\%ГЛОБАЛЬНЫЕ НАСТРОЙКИ\fP
.IP \(bu 2
\fI\%list\fP
.IP \(bu 2
\fI\%add\fP
.INDENT 2.0
.IP \(bu 2
\fI\%ДОБАВЛЕНИЕ ИЗ ПАПОК\fP
.UNINDENT
.IP \(bu 2
\fI\%remove\fP
.IP \(bu 2
\fI\%add_format\fP
.IP \(bu 2
\fI\%remove_format\fP
.IP \(bu 2
\fI\%show_metadata\fP
.IP \(bu 2
\fI\%set_metadata\fP
.IP \(bu 2
\fI\%export\fP
.IP \(bu 2
\fI\%catalog\fP
.INDENT 2.0
.IP \(bu 2
\fI\%ОПЦИИ EPUB\fP
.UNINDENT
.IP \(bu 2
\fI\%saved_searches\fP
.IP \(bu 2
\fI\%add_custom_column\fP
.IP \(bu 2
\fI\%custom_columns\fP
.IP \(bu 2
\fI\%remove_custom_column\fP
.IP \(bu 2
\fI\%set_custom\fP
.IP \(bu 2
\fI\%restore_database\fP
.IP \(bu 2
\fI\%check_library\fP
.IP \(bu 2
\fI\%list_categories\fP
.IP \(bu 2
\fI\%backup_metadata\fP
.IP \(bu 2
\fI\%clone\fP
.IP \(bu 2
\fI\%embed_metadata\fP
.IP \(bu 2
\fI\%search\fP
.IP \(bu 2
\fI\%fts_index\fP
.IP \(bu 2
\fI\%fts_search\fP
.UNINDENT
.SH ГЛОБАЛЬНЫЕ НАСТРОЙКИ
.INDENT 0.0
.TP
.B \-\-help, \-h
показать это сообщение и выйти
.UNINDENT
.INDENT 0.0
.TP
.B \-\-library\-path, \-\-with\-library
Путь к библиотеке calibre. По умолчанию используется путь, сохранённый в настройках. Также можно подключиться к контент\-серверу calibre для выполнения действий в удалённых библиотеках. Для этого используйте URL\-адрес: \fI\%http://hostname:port/#library_id\fP, например, \fI\%http://localhost:8080/#mylibrary\fP\&. Library_id \- это идентификатор библиотеки библиотеки, к которой вы хотите подключиться, на контент\-сервере. Можно использовать специальное значение library_id для получения списка идентификаторов библиотеки, доступных на сервере. Подробнее о настройке доступа через контент\-сервер см. в разделе \fI\%https://manual.calibre\-ebook.com/ru/generated/ru/calibredb.html\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-password
Пароль для подключения к  контент\-серверу calibre. Чтобы прочитать пароль со стандартного ввода, используйте специальное значение: <stdin>. Чтобы прочитать пароль из файла, используйте: <f:/path/to/file> (т.е. <f: за ним следует полный путь к файлу и закрывающий >). Требуются угловые скобки в приведённом выше разделе, не забудьте экранировать их или использовать кавычки в вашем шелле.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-timeout
Тайм\-аут в секундах при подключении к библиотеке calibre по сети. По умолчанию \- две минуты.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-username
Имя пользователя для соединения с контент\-сервером calibre
.UNINDENT
.INDENT 0.0
.TP
.B \-\-version
показать версию программы и выйти
.UNINDENT
.SH LIST
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb список [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Список книг в базе данных calibre.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-ascending
Сортировать результаты по возрастанию
.UNINDENT
.INDENT 0.0
.TP
.B \-\-fields, \-f
Поля, отображаемые при перечислении книг в базе данных. Должен быть разделённый запятыми список полей. Доступные поля: author_sort, authors, comments, cover, formats, identifiers, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, size, tags, template, timestamp, title, uuid По умолчанию: title,authors. Специальное поле \fB\(dq\fPall\fB\(dq\fP можно использовать для выбора всех полей. В дополнение к встроенным полям, пользовательские поля также доступны как *field_name, например, для настраиваемого поля #rating, используйте имя: *rating
.UNINDENT
.INDENT 0.0
.TP
.B \-\-for\-machine
Генерирует вывод в формате JSON, более подходящем для машинного разбора. Игнорирует настройки ширины строки и разделителя.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-limit
Максимальное число результатов для отображения. По умолчанию: все
.UNINDENT
.INDENT 0.0
.TP
.B \-\-line\-width, \-w
Максимальная ширина строки вывода. По умолчанию \- размер экрана.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix
Префикс для всех путей. По умолчанию \- абсолютный путь к директории библиотеки.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-search, \-s
Фильтровать результаты запроса. С форматом запроса можно ознакомиться в соответствующей документации в руководстве пользователя. По умолчанию не фильтровать.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-separator
Разделитель полей. По умолчанию это пробел.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sort\-by
Поле, по которому сортируются результаты. Вы можете указать несколько полей, разделив их запятыми. Доступные поля: author_sort, authors, comments, cover, formats, identifiers, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, size, tags, template, timestamp, title, uuid По умолчанию: id
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template
Шаблон для запуска, если \fB\(aq\fPtemplate\fB\(aq\fP находится в списке полей. По умолчанию: Нет
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template_file, \-t
Путь к файлу, содержащему шаблон для запуска, если в списке полей есть \fB\(aq\fPtemplate\fB\(aq\fP\&. По умолчанию: Нет
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template_heading
Заголовок столбца шаблона. По умолчанию: template. Этот параметр игнорируется, если установлен параметр \fI\%\-\-for\-machine\fP
.UNINDENT
.SH ADD
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb добавить [параметры] файл1 файл2 файл3 ...
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Добавить указанные файлы как книги в базу данных. Вы также можете указать папки, см.
параметры, относящиеся к папке, ниже.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-authors, \-a
Указать авторов добавляемых книг
.UNINDENT
.INDENT 0.0
.TP
.B \-\-automerge, \-m
Если будут найдены книги с похожими названиями и авторами, автоматически объединить входящие форматы (файлы) с существующими книжными записями. Значение \fB\(dq\fPignore\fB\(dq\fP \- повторяющиеся форматы отбрасываются. Значение \fB\(dq\fPoverwrite\fB\(dq\fP \- повторяющиеся форматы в библиотеке перезаписываются вновь добавленными файлами. Значение \fB\(dq\fPnew_record\fB\(dq\fP \- повторяющиеся форматы помещаются в новую запись книги.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-cover, \-c
Путь к обложке для использования в добавленной книге
.UNINDENT
.INDENT 0.0
.TP
.B \-\-duplicates, \-d
Добавлять книги в базу данных, даже если они уже есть. Сравнение \- по названиям книг и авторам. Параметр \fI\%\-\-automerge\fP имеет приоритет.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-empty, \-e
Добавить пустую книгу (книгу без форматов)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-identifier, \-I
Задать идентификаторы книги, напр. \-I asin:XXX \-I isbn:YYY
.UNINDENT
.INDENT 0.0
.TP
.B \-\-isbn, \-i
Указать ISBN добавляемых книг
.UNINDENT
.INDENT 0.0
.TP
.B \-\-languages, \-l
Список языков через запятую (желательно использовать языкововую кодировку ISO639, хотя могут быть распознаны и некоторые обычные названия языков)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-series, \-s
Указать серию добавляемых книг
.UNINDENT
.INDENT 0.0
.TP
.B \-\-series\-index, \-S
Указать номер в серии у добавляемых книг
.UNINDENT
.INDENT 0.0
.TP
.B \-\-tags, \-T
Указать теги добавляемых книг
.UNINDENT
.INDENT 0.0
.TP
.B \-\-title, \-t
Установить название добавляемой книги (книг)
.UNINDENT
.SS ДОБАВЛЕНИЕ ИЗ ПАПОК
.sp
Опции для управления добавлением книг из директорий. По умолчанию добавляются только файлы с расширениями известных форматов электронных книг.
.INDENT 0.0
.TP
.B \-\-add
Шаблон имени файла (glob), файлы, соответствующие этому шаблону, будут добавлены при сканировании папок на наличие файлов, даже если они не относятся к известному типу файлов электронных книг. Можно указать несколько раз для нескольких шаблонов.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore
Шаблон имени файла (glob), файлы, соответствующие этому шаблону, будут игнорироваться при сканировании папок на наличие файлов. Можно указать несколько раз для нескольких шаблонов. Например: *.pdf игнорирует все файлы PDF.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-one\-book\-per\-directory, \-1
Предположим, что в каждой папке есть только одна логическая книга и что все файлы в ней представляют собой электронные книги разных форматов этой книги.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-recurse, \-r
Рекурсивно обрабатывать папки
.UNINDENT
.SH REMOVE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove ids
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Удалить книги, с определёнными идентификаторами из базы данных. Id должен быть разделенным запятыми списком идентификационных номеров (вы можете получить номера идентификаторов с помощью команды поиска). Например, 23,34,57\-85 (при указании диапазона последнее число в диапазоне не включено).
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-permanent
Не использовать Корзина
.UNINDENT
.SH ADD_FORMAT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add_format [опции] id файл_электронной_книги
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Добавьте файл_электронной_книги в доступные форматы логической книги, определённой по id. Идентификатор можно получить с помощью команды search (искать). Если формат уже существует, он заменяется, если не указана опция \-\-dont\-replace (не заменять).
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-dont\-replace
Не заменять формат, если он уже существует
.UNINDENT
.SH REMOVE_FORMAT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove_format [параметры] id fmt
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Удалить формат fmt из логической книги с идентификатором id. Получить id \- команда search. fmt должен быть расширением файла, например LRF, или TXT, или EPUB. Если логическая книга не имеет доступного fmt не делать ничего.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.SH SHOW_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb show_metadata [параметры] id
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Показывает метаданные, хранящиеся в базе данных calibre для книги, заданной идентификатором id.
id \- числовой идентификатор из команды search.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-as\-opf
Напечатать метаданные в OPF из (XML)
.UNINDENT
.SH SET_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb set_metadata [options] book_id [/path/to/metadata.opf]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Установить метаданные, хранящиеся в базе данных calibre для книги, указанной
book_id из файла metadata.opf OPF. book_id — это идентификационный номер книги из
команды поиска. Можно получить представление о формате OPF, используя
\-\-as\-opf переключившись на команду show_metadata. Также можно установить метаданные
отдельных полей опцией \-\-field. Если вы используете опцию \-\-field,
нет необходимости указывать файл OPF.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-field, \-f
Поле для установки. Формат название_поля:значение. Например: \fI\%\-\-field\fP tags:tag1,tag2. Используйте \fI\%\-\-list\-fields\fP чтобы получить список названий полей. Вы можете указать эту настройку несколько раз для установки нескольких полей. Помните: для языков вы должны использовать ISO639 языковую кодировку (то есть en для English, fr для French и т.д.). Для идентификаторов, синтаксис \fI\%\-\-field\fP identifiers:isbn:XXXX,doi:YYYYY. Для булевых (да/нет) полей используйте true и false или yes и no.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-list\-fields, \-l
Список названий полей метаданных, которые могут быть использованы с опцией \fI\%\-\-field\fP\&.
.UNINDENT
.SH EXPORT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb export [параметры] идентификаторы
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Экспорт книг заданных идентификаторами (разделенный запятыми список) в файловую систему.
Операция экспорта сохраняет все форматы книги, её обложку и метданные (в
файле opf). Вы можете получить номера идентификаторов при помощи команды search.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-all
Экспортировать все книги в базу данных, игнорируя список id.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-asciiize
calibre преобразует все неанглийские символы в английские эквиваленты имен файлов. Это полезно при сохранении в устаревшую файловую систему без полной поддержки имен файлов Unicode. Указание этого переключателя отключит данный режим.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-save\-cover
Обычно, calibre будет сохранять обложку в отдельном файле рядом с файлами электронной книги. Указание этого переключателя отключит данный режим.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-update\-metadata
По умолчанию calibre обновляет метаданные в сохранённых файлах в библиотеке. Может замедлить запись на диск. Указание этого переключателя отключит данный режим.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-write\-opf
Обычно, calibre будет писать метаданные в отдельный файл OPF рядом с файлом электронной книги. Указание этого переключателя отключит данный режим.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-formats
Список форматов, разделенных запятыми, для сохранения для каждой книги. По умолчанию все доступные форматы сохраняются.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-progress
Прогресс отчёта
.UNINDENT
.INDENT 0.0
.TP
.B \-\-replace\-whitespace
Заменить пробел символом подчёркивания.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-single\-dir
Экспорт всех книг в одну папку
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template
Шаблон для управления именем файла и структурой папок сохраненных файлов. По умолчанию это \fB\(dq\fP{author_sort}/{title}/{title} \- {authors}\fB\(dq\fP, при котором книги будут сохраняться в подпапку для каждого автора с именами файлов, содержащими название и автора. Доступные элементы управления: {author_sort, authors, id, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, tags, timestamp, title}
.UNINDENT
.INDENT 0.0
.TP
.B \-\-timefmt
Формат отображения дат.  %d \- день, %b \- месяц, %m \- номер месяца, %Y \- год. По умолчанию: %b, %Y
.UNINDENT
.INDENT 0.0
.TP
.B \-\-to\-dir
Экспорт книг в указанную папку. По умолчанию .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-to\-lowercase
Преобразовать пути в нижний регистр.
.UNINDENT
.SH CATALOG
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb catalog /path/to/destination.(csv|epub|mobi|xml...) [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Export a \fBcatalog\fP in format specified by path/to/destination extension.
Options control how entries are displayed in the generated \fBcatalog\fP output.
Note that different \fBcatalog\fP formats support different sets of options. To
see the different options, specify the name of the output file and then the
\-\-help option.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-ids, \-i
Разделённый запятыми список идентификаторов из базы данных для каталога. Если указано, \fI\%\-\-search\fP игнорируется. По умолчанию: all
.UNINDENT
.INDENT 0.0
.TP
.B \-\-search, \-s
Фильтровать результаты по поисковому запросу. О формате поискового запроса читайте в связанной с поиском документации в руководстве пользователя. По умолчанию: no filtering (не фильтровать)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-verbose, \-v
Показать детальную информацию. Используется для отладки.
.UNINDENT
.SS ОПЦИИ EPUB
.INDENT 0.0
.TP
.B \-\-catalog\-title
Название сгенерированного каталога, используемого как название в метаданных. По умолчанию: \fB\(aq\fPMy Books\fB\(aq\fP Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-cross\-reference\-authors
Создание перекрестных ссылок в разделе «Авторы» для книг с несколькими авторами. По умолчанию: \fB\(aq\fPFalse\fB\(aq\fP Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-debug\-pipeline
Сохранить вывод из разных этапов конвейера преобразования в указанную папку. Полезно, если вы не уверены, на каком этапе процесса преобразования возникает ошибка. По умолчанию: \fB\(aq\fPNone\fB\(aq\fP Применимо к: выходным форматам AZW3, EPUB, MOBI
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclude\-genre
Regex, описывающий теги для исключения в качестве жанров. По умолчанию: \fB\(aq\fP[.+]|^+$\fB\(aq\fP исключает теги в квадратных скобках, напр. \fB\(aq\fP[Project Gutenberg]\fB\(aq\fP, и \fB\(aq\fP+\fB\(aq\fP, умолчальный тег для чтения книг. Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclusion\-rules
Задать правила, используемые для исключения книг из сгенерированного каталога. Модель для правила исключения: (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fPTags\fB\(aq\fP,\fB\(aq\fP<comma\-separated list of tags>\fB\(aq\fP) или (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fP<custom column>\fB\(aq\fP,\fB\(aq\fP<pattern>\fB\(aq\fP). Например: ((\fB\(aq\fPArchived books\fB\(aq\fP,\fB\(aq\fP#status\fB\(aq\fP,\fB\(aq\fPArchived\fB\(aq\fP),) исключит книгу со значением \fB\(aq\fPArchived\fB\(aq\fP в польз. столбце \fB\(aq\fPstatus\fB\(aq\fP\&. Когда определено несколько правил, все они применятся. По умолчанию: \fB\(aq\fP((\fB\(aq\fPCatalogs\fB\(aq\fP,\fB\(aq\fPTags\fB\(aq\fP,\fB\(aq\fPCatalog\fB\(aq\fP),)\fB\(aq\fP Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-authors
Включить раздел «Авторы» в каталог. По умолчанию: \fB\(aq\fPFalse\fB\(aq\fP  Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-descriptions
Включить раздел «Примечания» в каталог. По умолчанию: \fB\(aq\fPFalse\fB\(aq\fP  Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-genres
Включить раздел «Жанры» в каталог. По умолчанию: \fB\(aq\fPFalse\fB\(aq\fP  Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-recently\-added
Включить раздел «Недавно добавленные» в каталог. По умолчанию: \fB\(aq\fPFalse\fB\(aq\fP  Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-series
Включить раздел «Серии» в каталог. По умолчанию: \fB\(aq\fPFalse\fB\(aq\fP  Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-titles
Включить раздел «Названия» в каталог. По умолчанию: \fB\(aq\fPFalse\fB\(aq\fP  Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-genre\-source\-field
Исходное поле для секции \fB\(aq\fPЖанры\fB\(aq\fP\&. Умолчание: \fB\(aq\fPТеги\fB\(aq\fP Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-header\-note\-source\-field
Пользовательское поле, содержащее текст примечания для вставки в заголовок описания. Умолчание: \fB\(aq\fP\fB\(aq\fP Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-merge\-comments\-rule
#<custom field>: [before|after]:[True|False] с указанием: <custom field> Пользовательское поле, содержащее примечания для объединения с комментариями [before|after] Размещение примечаний относительно комментариев [True|False] \- между примечаниями и комментариями вставляется горизонтальная линия. По умолчанию: \fB\(aq\fP::\fB\(aq\fP Применимо к выходным форматам AZW3, EPUB, MOBI
.UNINDENT
.INDENT 0.0
.TP
.B \-\-output\-profile
Определить профиль вывода. В некоторых случаях для оптимизации каталога для устройства требуется профиль вывода. Например \fB\(aq\fPkindle\fB\(aq\fP or \fB\(aq\fPkindle_dx\fB\(aq\fP создаст структурированное Оглавление с Разделами и Авторами. Умолчание: \fB\(aq\fPNone\fB\(aq\fP Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix\-rules
Задать правила включения префиксов, указывающих чтение книг, элементы списка пожеланий и др. польз\-х префиксов. Модель для префиксного правила (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fP<source field>\fB\(aq\fP,\fB\(aq\fP<pattern>\fB\(aq\fP,\fB\(aq\fP<prefix>\fB\(aq\fP). Когда определено несколько правил, будет использоваться первое правило сопоставления. Умолчание: \fB\(aq\fP((\fB\(aq\fPRead books\fB\(aq\fP,\fB\(aq\fPtags\fB\(aq\fP,\fB\(aq\fP+\fB\(aq\fP,\fB\(aq\fP✓\fB\(aq\fP),(\fB\(aq\fPWishlist item\fB\(aq\fP,\fB\(aq\fPtags\fB\(aq\fP,\fB\(aq\fPWishlist\fB\(aq\fP,\fB\(aq\fP×\fB\(aq\fP))\fB\(aq\fP Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-preset
Использовать именованный пресет, созданный в GUI конструкторе каталогов Пресет задает все настройки для создания каталога. Умолчание: \fB\(aq\fPNone\fB\(aq\fP Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-thumb\-width
Размер подсказки (в дюймах) для обложки книг в каталоге. Диапазон: 1.0 \- 2.0 Умолчание: \fB\(aq\fP1.0\fB\(aq\fP Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.INDENT 0.0
.TP
.B \-\-use\-existing\-cover
Заменить существующую обложку при генерации каталога. Умолчание: \fB\(aq\fPFalse\fB\(aq\fP Применяется к: AZW3, EPUB, MOBI форматам вывода
.UNINDENT
.SH SAVED_SEARCHES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb saved_searches [options] (list|add|remove)
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Управление сохраненными в этой базе данных поисками.
При добавлении запроса с уже существующим именем, он будет
заменён.
.sp
Синтаксис для добавления:
.sp
calibredb \fBsaved_searches\fP add search_name search_expression
.sp
Синтаксис для удаления:
.sp
calibredb \fBsaved_searches\fP remove search_name
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.SH ADD_CUSTOM_COLUMN
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add_custom_column [опции] ярлык имя тип_данных
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Создаёт пользовательский столбец, где «ярлык» — удобное для компьютера название
столбца, без пробелов и двоеточий; «имя» — удобное для человека название столбца;
«тип_данных» один из: bool, comments, composite, datetime, enumeration, float, int, rating, series, text
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-display
Словарь настроек для указания того, как данные в столбцах будут интерпретированы. Это JSON строка. Для перечисления столбцов используйте \fI\%\-\-display\fP\fB\(dq\fP{\e \fB\(dq\fPenum_values\e \fB\(dq\fP:[\e \fB\(dq\fPval1\e \fB\(dq\fP, \e \fB\(dq\fPval2\e \fB\(dq\fP]}\fB\(dq\fP Есть много настроек, которые можно использовать в переменной отображения. Эти настройки по типу столбца бывают: составными: composite_template, composite_sort, make_category,contains_html, use_decorations даты и времени: date_format перечисление: enum_values, enum_colors, use_decorations целочисленные или с плавающей точкой: number_format текстовые: is_names, use_decorations  Для поиска правильных сочетаний лучше всего создать пользовательский столбец соответствующего типа в GUI и посмотреть резервный OPF книги (убедитесь что новый OPF был создан после добавления столбца). Вы увидите JSON для \fB\(dq\fPотображения\fB\(dq\fP для нового столбца в OPF.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-is\-multiple
Этот столбец хранит теги как данные (например, несколько значений, разделенных запятыми). Применяется только, если тип данных текст.
.UNINDENT
.SH CUSTOM_COLUMNS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb custom_columns [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Список доступных пользовательских столбцов. Показ меток столбцов и идентификаторы.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-details, \-d
Показать подробности для каждой колонки.
.UNINDENT
.SH REMOVE_CUSTOM_COLUMN
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove_custom_column [options] labelУдалить пользовательский столбец, идентифицированный меткой. Вы можете увидеть доступные столбцы с командой custom_columns.
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-force, \-f
Не запрашивать подтверждение
.UNINDENT
.SH SET_CUSTOM
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb set_custom [options] column id value
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Задать значение настраиваемого столбца для книги определяемой по id.
Cписок идентификаторов получается командой поиска.
Список пользовательских имен столбцов получается командой
custom_columns
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-append, \-a
Если столбец содержит несколько значений, добавить указанное значение к существующим, а не заменять их.
.UNINDENT
.SH RESTORE_DATABASE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb restore_database [параметры]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Восстановить эту базу данных из метаданных, хранящихся в файлах OPF в каждом
папка библиотеки calibre. Это полезно, если ваш файл metadata.db
был поврежден.
.sp
ВНИМАНИЕ: Эта команда полностью регенерирует вашу базу данных. Теряются
все сохраненные поисковые запросы, категории пользователей, плагины, сохраненные конвертации для каждой книги
настройки и пользовательские рецепты. Восстановленные метаданные будут иметь точность как
в файлах OPF.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-really\-do\-it, \-r
Действительно выполнить восстановление. Команда не запустится пока эта опция не определена.
.UNINDENT
.SH CHECK_LIBRARY
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb check_library [настройки]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Выполняет некоторые проверки файловой системы представляющей библиотеку. Отчёты invalid_titles, extra_titles, invalid_authors, extra_authors, missing_formats, extra_formats, extra_files, missing_covers, extra_covers, failed_folders
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-csv, \-c
Вывод в CSV
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore_extensions, \-e
Разделённый запятыми список игнорируемых расширений. По умолчанию: все (all).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore_names, \-n
Разделённый запятыми список игнорируемых названий. По умолчанию: все (all).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-report, \-r
Разделённый запятыми список отчётов. По умолчанию: все (all).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-vacuum\-fts\-db
Сжать (командой Vacuum) базу данных полнотекстового поиска. Если база данных велика, это может занять много времени и памяти.
.UNINDENT
.SH LIST_CATEGORIES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb list_categories [настройки]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Генерирует отчёт по категориям в базе данных.
Информация соответствует той, что отображается в Браузере тегов.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-categories, \-r
Разделённый запятыми список имён поиска категорий. По умолчанию: all
.UNINDENT
.INDENT 0.0
.TP
.B \-\-csv, \-c
Вывод в CSV
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dialect
Тип файла CSV для создания. Варианты: excel, excel\-tab, unix
.UNINDENT
.INDENT 0.0
.TP
.B \-\-item_count, \-i
Выводить только общее число записей в категории вместо поэлементного подсчёта.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-width, \-w
Максимальная ширина строки вывода. По умолчанию \- размер экрана.
.UNINDENT
.SH BACKUP_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb backup_metadata [параметры]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Резервное копирование метаданных, хранящихся в базе данных, в отдельные файлы OPF в каждой
папке с книгами. Обычно это происходит автоматически, но вы можете запустить эту
команду для принудительного повторного создания файлов OPF с параметром \-\-all.
.sp
Обратите внимание, что обычно в этом нет необходимости, так как файлы OPF сохраняются.
автоматически, каждый раз при изменении метаданных.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-all
Обычно команда работает только с книгами, имеющими устаревшие OPF файлы. Эта опция заставляет её работать со всеми книгами.
.UNINDENT
.SH CLONE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb clone path/to/new/library
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Создать клон текущей библиотеки. Создаётся новая пустая библиотека,  содержащая все
пользовательские столбцы, виртуальные библиотеки и прочие параметры, аналогично текущей библиотеке.
.sp
Клонированная библиотека не содержит книг. Чтобы создать полную копию
со всеми книгами просто скопируйте папку библиотеки.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.SH EMBED_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb embed_metadata [параметры] book_id
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Обновление метаданных в файлах текущей книги, хранящейся в библиотеке calibre, из
метаданных в базе данных calibre.  Обычно метаданные обновляются только во время
экспорта файлов из calibre, эта команда полезна, если вы хотите, чтобы файлы были
обновлены на месте. Заметьте, что различные форматы файлов поддерживают разное количество
метаданных. Вы можете использовать специальное значение \(aqall\(aq для book_id, чтобы обновить метаданные
во всех книгах. Вы можете также задать несколько идентификаторов книг, разделённых пробелами, и диапазон идентификаторов,
разделённых дефисами. Например: calibredb \fBembed_metadata\fP 1 2 10\-15 23
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-only\-formats, \-f
Обновлять только метаданные в файлах заданного формата. Задайте несколько раз для нескольких форматов. По умолчанию, обновляются все форматы.
.UNINDENT
.SH SEARCH
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb search [опции] поисковое выражение
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Искать в библиотеке указанный поисковый запрос, возвращая разделенный запятыми
список идентификаторов книг, соответствующих поисковому запросу. Формат вывода полезен
для подачи в другие команды, которые принимают список идентификаторов в качестве входных данных.
.sp
Выражение поиска может быть любым из языка поисковых запросов calibre,
например: calibredb \fBsearch\fP author:asimov \(aqtitle:\(dqi robot\(dq\(aq
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-limit, \-l
Максимальное число возвращаемых результатов. По умолчанию \- все результаты.
.UNINDENT
.SH FTS_INDEX
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb fts_index [параметры] enable/disable/status/reindex
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Управление индексом для полнотекстового поиска.
.INDENT 0.0
.TP
.B enable
Включить индексирование для данной библиотеки
.TP
.B disable
Включить индексирование для данной библиотеки
.TP
.B status
Показать состояние индексирования
.TP
.B reindex
Переиндексировать отдельные книги или
библиотеку целиком. Для отдельных книг, укажите
их идентификаторы после команды reindex.
Если идентификаторы не указаны, то переиндексируется
вся библиотека.
.UNINDENT
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-indexing\-speed
Скорость индексации. Быстрое индексирование использует максимум ресурсов компьютера, медленное \- менее ресурсоёмко. Скорость сбрасывается на медленную после каждого вызова.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-wait\-for\-completion
Ждать, пока все книги будут проиндексированы, периодически показывая ход индексации.
.UNINDENT
.SH FTS_SEARCH
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb fts_search [параметры] выражение поиска
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Полнотекстовый поиск в библиотеке или ее фрагменте.
.sp
Когда вы передаёте аргументы с пробелами в calibredb, заключайте их в кавычки. Например: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-do\-not\-match\-on\-related\-words
Точное совпадение вместо родственных слов, напр. correction не совпадает с correcting.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-include\-snippets
Выводить фрагменты текста вокруг совпадений. Это существенно замедлит поиск.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-indexing\-threshold
Сколько процентов библиотеки должно быть проиндексировано для включения полнотекстового поиска. По умолчанию 90
.UNINDENT
.INDENT 0.0
.TP
.B \-\-match\-end\-marker
Маркер конца совпавшего слова во фрагменте
.UNINDENT
.INDENT 0.0
.TP
.B \-\-match\-start\-marker
Маркер начала совпавшего слова во фрагменте
.UNINDENT
.INDENT 0.0
.TP
.B \-\-output\-format
Формат вывода результатов: \fB\(dq\fPtext\fB\(dq\fP для обычного текста или \fB\(dq\fPjson\fB\(dq\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-restrict\-to
Ограничьте искомые книги, используя поисковое выражение или идентификаторы. Например: ids:1,2,3 для ограничения по идентификаторам или search:tag:foo для ограничения книг с тегом foo.
.UNINDENT
.SH AUTHOR
Kovid Goyal
.SH COPYRIGHT
Kovid Goyal
.\" Generated by docutils manpage writer.
.
