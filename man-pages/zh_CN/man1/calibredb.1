.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "CALIBREDB" "1" "一月 06, 2023" "6.11.0" "calibre"
.SH NAME
calibredb \- calibredb
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb command [选项] [参数]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBcalibredb\fP 是calibre数据库的命令行接口。它有
几个子命令，记录如下。
.sp
\fBcalibredb\fP 可以用来操作一个calibre数据库
由运行在上的calibre或calibre:guilabel:\fI内容服务器\(ga指定
本地机器或通过互联网。你可以运行一个calibre
:guilabel:\(ga内容服务器\fP 使用：命令：\fIcalibre\-server\fP
程序或在主calibre程序中单击:guilabel:\fI连接/共享 \->
启动内容服务器\fP\&. 因为:command:\fIcalibredb\fP 可以更改
calibre书库，必须首先在服务器上设置身份验证。这里
有两种方法：
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
如果您计划只连接到运行在同一台计算机上的服务器，
则只需使用内容服务器的 \fB\-\-enable\-local\-write\fP 选项，
允许本地计算机上运行的任何程序，包括calibredb，
对calibre数据进行更改。从主calibre程序运行服务器时，
此选项位于：guilabel:\fI首选项\->通过网络共享\->高级\fP。
.IP \(bu 2
如果要启用权限通过Internet的访问，则应在服务器上
设置用户帐户，并使用：选项：\fI\-\-用户名\fP 和：
选项：\fI\-\-密码\fP，命令：\fIcalibredb\fP 选项授予访问权限。
您可以为命令：\fIcalibre\-server\(ga设置用户身份验证，
方法是使用 \(ga\fP\-\-enable\-auth\(ga\(ga选项并使用
.INDENT 2.0
.INDENT 3.5

.nf
\(ga\(ga
.fi
\-\-manage\-users\(ga\(ga创建用户帐户。
如果从主calibre程序运行服务器，请使用：
.UNINDENT
.UNINDENT
.sp
首选项 → 通过网络共享 → 需要用户名/密码。
.UNINDENT
.UNINDENT
.UNINDENT
.sp
要连接到正在运行的内容服务器，请将服务器的URL传递给：
选项：\fI\-\-with\-library\fP 选项，有关详细信息和示例，
请参阅该选项的文档。
.INDENT 0.0
.IP \(bu 2
\fI\%全局选项\fP
.IP \(bu 2
\fI\%list\fP
.IP \(bu 2
\fI\%add\fP
.INDENT 2.0
.IP \(bu 2
\fI\%正在从文件夹中添加\fP
.UNINDENT
.IP \(bu 2
\fI\%remove\fP
.IP \(bu 2
\fI\%add_format\fP
.IP \(bu 2
\fI\%remove_format\fP
.IP \(bu 2
\fI\%show_metadata\fP
.IP \(bu 2
\fI\%set_metadata\fP
.IP \(bu 2
\fI\%export\fP
.IP \(bu 2
\fI\%catalog\fP
.INDENT 2.0
.IP \(bu 2
\fI\%EPUB 个选项\fP
.UNINDENT
.IP \(bu 2
\fI\%saved_searches\fP
.IP \(bu 2
\fI\%add_custom_column\fP
.IP \(bu 2
\fI\%custom_columns\fP
.IP \(bu 2
\fI\%remove_custom_column\fP
.IP \(bu 2
\fI\%set_custom\fP
.IP \(bu 2
\fI\%restore_database\fP
.IP \(bu 2
\fI\%check_library\fP
.IP \(bu 2
\fI\%list_categories\fP
.IP \(bu 2
\fI\%backup_metadata\fP
.IP \(bu 2
\fI\%clone\fP
.IP \(bu 2
\fI\%embed_metadata\fP
.IP \(bu 2
\fI\%search\fP
.IP \(bu 2
\fI\%fts_index\fP
.IP \(bu 2
\fI\%fts_search\fP
.UNINDENT
.SH 全局选项
.INDENT 0.0
.TP
.B \-\-help, \-h
显示此帮助信息并退出
.UNINDENT
.INDENT 0.0
.TP
.B \-\-library\-path, \-\-with\-library
calibre 书库的路径。默认是使用存储在设置中的路径。您还可以连接到 calibre 内容服务器，以便在远程书库上执行操作。为此使用表单的URL：\fI\%http://hostname:port/#library_id\fP 例如，\fI\%http://localhost:8080/#mylibrary\fP。library_id是要在内容服务器上连接的书库的书库id。您可以使用特殊的library_id值来获得服务器上可用书库id的列表。有关如何通过内容服务器设置访问的详情，请参阅https://manual.calibre\-ebook.com/generated/en/calibredb.html。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-password
连接到 calibre 内容服务器的密码。若要从标准输入读取密码，请使用特殊值：<stdin>。若要从文件读取密码，请使用<f:/path/to/file>（即<f:后跟文件的完整路径和尾随>）。上面的角括号是必需的，记住要脱掉它们，或者使用引号。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-timeout
通过网络连接到calibre书库时的超时时间，以秒为单位。默认值为两分钟。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-username
用于连接到内容服务器的用户名
.UNINDENT
.INDENT 0.0
.TP
.B \-\-version
显示程序版本号并退出
.UNINDENT
.SH LIST
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb list [选项]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
列出 calibre 数据库中可用书籍。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-ascending
升序排列结果
.UNINDENT
.INDENT 0.0
.TP
.B \-\-fields, \-f
在列出数据库中书籍时要显示的字段。应该是逗号分隔的字段列表。 可用字段： author_sort, authors, comments, cover, formats, identifiers, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, size, tags, template, timestamp, title, uuid 默认值：title,authors。特殊字段“all”可用于选择所有字段。除了上述内置字段之外，自定义字段还等价于*field_name，例如，对于自定义字段#rating，使用名称：*rating
.UNINDENT
.INDENT 0.0
.TP
.B \-\-for\-machine
以 JSON 格式输出，更适合机器解析。忽略每行长度和分隔符选项。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-limit
结果显示的最大数目。默认：全部
.UNINDENT
.INDENT 0.0
.TP
.B \-\-line\-width, \-w
输出中单行宽度最大值。默认检测屏幕大小。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix
所有文件路径前缀。默认为书库文件夹绝对路径。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-search, \-s
通过搜索请求筛选结果。对于每个搜索请求的格式，请参见用户手册中搜索相关的文档。默认为不做筛选。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-separator
分隔各个字段的字符串。默认是空格。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sort\-by
The field by which to sort the results. You can specify multiple fields by separating them with commas. Available fields: author_sort, authors, comments, cover, formats, identifiers, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, size, tags, template, timestamp, title, uuid Default: id
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template
如果 \fB\(dq\fPtemplate\fB\(dq\fP在字段列表中，则要运行的模板。默认值：无
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template_file, \-t
如果\fB\(dq\fPtemplate\fB\(dq\fP 在字段列表中，则包含要运行的模板的文件的路径。默认值：无
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template_heading
模板栏的标题。默认值 template. 如果设置了选项:option:\fI\-\-for\-machine\fP ，则忽略此选项
.UNINDENT
.SH ADD
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add [选项] file1 file2 file3 ...
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
添加指定文件为书籍到数据库。你可以指定目录，请查看下面目录相关选项。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-authors, \-a
设置已添加书籍的作者
.UNINDENT
.INDENT 0.0
.TP
.B \-\-automerge, \-m
如果找到具有类似标题和作者的书籍，请自动将传入格式(文件)合并到现有书籍记录中。值“Ignore”表示丢弃重复的格式。值“overwrite”表示书库中的重复格式将被新添加的文件覆盖。值“new_record”表示将重复的格式放入新的书籍记录中。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-cover, \-c
设置已添加书籍的封面路径
.UNINDENT
.INDENT 0.0
.TP
.B \-\-duplicates, \-d
即使已经存在，也添加书籍到数据库中。 根据书名和作者进行比较。 请注意，:option:
.nf
\(ga
.fi
\-\-automerge\(ga选项优先。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-empty, \-e
添加空白书籍(无格式书籍)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-identifier, \-I
为这本书设置书号，例如 \-I asin:XXX \-I isbn:YYY
.UNINDENT
.INDENT 0.0
.TP
.B \-\-isbn, \-i
设置已添加书籍的 ISBN
.UNINDENT
.INDENT 0.0
.TP
.B \-\-languages, \-l
逗号分割的语言列表（最好使用 ISO639 语言代码，即使有些语言名称也能识别）
.UNINDENT
.INDENT 0.0
.TP
.B \-\-series, \-s
为添加的书籍设置丛书
.UNINDENT
.INDENT 0.0
.TP
.B \-\-series\-index, \-S
为添加的书籍设置丛书编号
.UNINDENT
.INDENT 0.0
.TP
.B \-\-tags, \-T
设置已添加书籍的标签
.UNINDENT
.INDENT 0.0
.TP
.B \-\-title, \-t
设置已添加书籍的标题
.UNINDENT
.SS 正在从文件夹中添加
.sp
用于控制从文件夹添加书籍的选项。默认情况下，只能添加那些受支持的电子书格式类型的文件。
.INDENT 0.0
.TP
.B \-\-add
文件名(glob)模式，在扫描文件夹中的文件时将添加与此模式匹配的文件，即使这些文件不是已知的电子书文件类型。可以为多个模式多次指定。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore
文件名模式 (glob) ，在扫描文件夹中的文件时，与此模式匹配的文件将被忽略。可以为多个模式多次指定。例如：*.pdf将忽略所有PDF文件
.UNINDENT
.INDENT 0.0
.TP
.B \-\-one\-book\-per\-directory, \-1
假设每个文件夹只有一本逻辑书籍，并且其中的所有文件都是该书籍的不同电子书格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-recurse, \-r
递归处理文件夹
.UNINDENT
.SH REMOVE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove ids
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
从数据库移除指定书号的书籍。书号应为以逗号分隔的 id 号列表（你可以使用搜索命令来获得 id 号）。例如，23,34,57\-85（如果指定一个区间，该区间的最后一个数字不会被包括在内）。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-permanent
不要使用回收站
.UNINDENT
.SH ADD_FORMAT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add_format [options] id ebook_file
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
用 ebook_file将电子书添加到由id标识的逻辑书籍的可用格式中。如果格式已经存在，则替换它，除非指定了不替换选项。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-dont\-replace
如果格式已经存在不要替换它
.UNINDENT
.SH REMOVE_FORMAT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove_format [选项] id fmt
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
从ID识别的逻辑书籍中删除fmt格式。你可以通过使用搜索命令获取ID。fmt应该是形如LRF或TXT或EPUB的一个文件扩展名。如果逻辑书籍没有fmt可用则什么也不做。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.SH SHOW_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb show_metadata [options] id
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
显示在 calibre 数据库中存储的id所标识的书籍的元数据。
id是来自搜索命令的id号。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-as\-opf
以 OPF 表单(XML)打印元数据
.UNINDENT
.SH SET_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb set_metadata [options] book_id [/path/to/metadata.opf]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
根据OPF文件的metadata.opf设置存储在 calibre 数据库中的book_id标识书籍的元数据。
book_id是来自搜索命令的id号。您可以通过使用\-\-as\-opf切换到show_metadata命令来快速
了解OPF格式。还可以用\-\-field选项设置各个字段的元数据。如果使用\-\-field选项则
不需要指定OPF文件。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-field, \-f
设置字段。格式是field_name:value，例如：\fI\%\-\-field\fP tags:tag1,tag2。使用:option:\fI\-\-list\-fields\(ga来获取所有字段名称的列表。你可以多次指定此选项来设置多个字段。注意：对于语言，你必须使用ISO639语言代码（例如en代表英文，fr代表法语等）。对于书号，语法是:option:\fP\-\-field\(ga identifiers:isbn:XXXX,doi:YYYYY。对于布尔(是/否)字段使用真与假或是和否。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-list\-fields, \-l
列出可用于:option:
.nf
\(ga
.fi
\-\-field\(ga选项的元数据字段名称
.UNINDENT
.SH EXPORT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb export [options] ids
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
导出指定id的书籍至文件系统。书号为以逗号分隔的列表。
导出操作将保存书籍的所有格式，以及其封面和元数据(保存
至一个 opf 文件)。你可以使用搜索命令来获得 id 号。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-all
导出数据库中所有的书籍，忽略 id 列表。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-asciiize
让calibre将所有非英文字符转换成英文对应字符的文件名。如果保存到不完全支持Unicode文件名的旧文件系统中，这将非常有用。 选定此项将关闭此操作。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-save\-cover
一般来说，calibre 将把封面保存为单独文件，和原始电子书文件分开保存。 选定此项将关闭此操作。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-update\-metadata
一般来说，calibre 将基于 calibre 书库升级存储所存文件的元数据。这使保存到硬盘变慢一些。 选定此项将关闭此操作。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-write\-opf
一般来说，calibre 将会把元数据写入单独的 OPF 文件，和原始电子书文件分开保存。 选定此项将关闭此操作。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-formats
每本书籍的格式列表，逗号间隔。默认保存所有可用格式。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-progress
报告进展
.UNINDENT
.INDENT 0.0
.TP
.B \-\-replace\-whitespace
下划线替换空格。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-single\-dir
导出所有书籍到单个文件夹
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template
该模板用来控制保存到设备的文件的文件名和文件夹结构。默认是\fB\(dq\fP{author_sort}/{title}/{title} \- {authors}\fB\(dq\fP，它将把书籍保存到包含标题和作者的文件名的每个作者文件夹中。可用的控制项是: {author_sort, authors, id, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, tags, timestamp, title}
.UNINDENT
.INDENT 0.0
.TP
.B \-\-timefmt
显示日期的格式。%d \- 天, %b \- 月, %m \- 月数, %Y \- 年。默认是: %b, %Y
.UNINDENT
.INDENT 0.0
.TP
.B \-\-to\-dir
导出书籍到指定文件夹。默认为 .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-to\-lowercase
将路径转为小写。
.UNINDENT
.SH CATALOG
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb catalog /path/to/destination.(csv|epub|mobi|xml...) [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Export a \fBcatalog\fP in format specified by path/to/destination extension.
Options control how entries are displayed in the generated \fBcatalog\fP output.
Note that different \fBcatalog\fP formats support different sets of options. To
see the different options, specify the name of the output file and then the
\-\-help option.
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-ids, \-i
逗号分割数据库 ID 到书目的列表。 一旦声明，则忽略 \fI\%\-\-search\fP  默认值：全部
.UNINDENT
.INDENT 0.0
.TP
.B \-\-search, \-s
为搜索查询筛选结果。搜索查询格式请参见用户手册中搜索相关内容。默认：不筛选
.UNINDENT
.INDENT 0.0
.TP
.B \-\-verbose, \-v
显示详细输出信息。有利调试
.UNINDENT
.SS EPUB 个选项
.INDENT 0.0
.TP
.B \-\-catalog\-title
生成目录的标题用作元数据标题。 默认值：\fB\(aq\fPMy Books\fB\(aq\fP 适用于：AZW3，ePub，MOBI 等输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-cross\-reference\-authors
为具有多个作者的书籍在作者部分中创建交叉引用。 默认值: \fB\(aq\fPFalse\fB\(aq\fP 适用于: AZW3, EPUB, MOBI输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-debug\-pipeline
在转换过程的不同阶段分别保存输出到指定文件夹。如果您检查在转换过程的哪个阶段发生了错误，这非常有用。 默认: \fB\(aq\fPNone\fB\(aq\fP 适用于: AZW3, EPUB, MOBI 的输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclude\-genre
描述以排除类型的标签正则表达式。 默认值： \fB\(aq\fP[.+]|^+$\fB\(aq\fP 不包括括号内的标签，例如 \fB\(aq\fP[Project Gutenberg]\fB\(aq\fP, 和 \fB\(aq\fP+\fB\(aq\fP, 默认的用于阅读书籍的标签。 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclusion\-rules
指定用于从生成的目录中排除书籍的规则。 排除规则的模型是(\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fP标签\fB\(aq\fP,\fB\(aq\fP<comma\-separated list of tags>\fB\(aq\fP) 或(\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fP<custom column>\fB\(aq\fP,\fB\(aq\fP<pattern>\fB\(aq\fP)。 例如： ((\fB\(aq\fP存档的书籍\fB\(aq\fP,\fB\(aq\fP#状态\fB\(aq\fP,\fB\(aq\fP已存档\fB\(aq\fP),) 将在自定义栏目“状态”中排除值为“已存档”的图书。定义多个规则时，将应用所有规则。 默认: \fB\(dq\fP((\fB\(aq\fPCatalogs\fB\(aq\fP,\fB\(aq\fPTags\fB\(aq\fP,\fB\(aq\fPCatalog\fB\(aq\fP),)\fB\(dq\fP 应用于AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-authors
目录中包括“作者”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-descriptions
目录中包括“描述”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-genres
目录中包括“类型”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-recently\-added
目录中包括“最近添加”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-series
目录中包括“丛书”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-titles
目录中包括“标题”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-genre\-source\-field
“类型”部分的源字段。 默认值： \fB\(aq\fP标签\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-header\-note\-source\-field
包含要在描述标头中插入的注释文本的自定义域。 默认值: \fB\(aq\fP\fB\(aq\fP 适用于: AZW3, EPUB, MOBI输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-merge\-comments\-rule
#<custom field>:[before|after]:[True|False] 指定:  <custom field> 包含与注释合并的注释的自定义字段  [before|after] 关于注释的注释放置位置  [True|False] \- 在注意和注释之间插入水平规则 默认值: \fB\(aq\fP::\fB\(aq\fP 适用于: AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-output\-profile
指定输出配置文件。在某些情况下，输出配置文件用于优化某些设备的书目分类。例如，\fB\(aq\fPkindle\fB\(aq\fP 或 \fB\(aq\fPkindle_dx\fB\(aq\fP 以章节和文章的方式来生成目录结构。默认：\fB\(aq\fPNone\fB\(aq\fP 适用于：AZW3、EPUB、MOBI 等输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix\-rules
指定用于包括表示已读书籍，收藏清单项目和其他用户 定前缀的前缀的规则。前缀规则的模型  (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fP<source field>\fB\(aq\fP,\fB\(aq\fP<pattern>\fB\(aq\fP,\fB\(aq\fP<prefix>\fB\(aq\fP)。 当定义了多个规则时，将使用第一个匹配规则 默认规则:\fB\(dq\fP((\fB\(aq\fPRead books\fB\(aq\fP,\fB\(aq\fPtags\fB\(aq\fP,\fB\(aq\fP+\fB\(aq\fP,\fB\(aq\fP✓\fB\(aq\fP),(\fB\(aq\fPWishlist item\fB\(aq\fP,\fB\(aq\fPtags\fB\(aq\fP,\fB\(aq\fPWishlist\fB\(aq\fP,\fB\(aq\fP×\fB\(aq\fP))\fB\(dq\fP适用于：AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-preset
使用GUI目录生成器创建的命名预设。 预设指定用于构建目录的所有设置。 默认值: \fB\(aq\fPNone\fB\(aq\fP 适用于: AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-thumb\-width
目录中书籍封面的大小提示(英寸)。 范围： 1.0 \- 2.0 默认值： \fB\(aq\fP1.0\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-use\-existing\-cover
在生成目录时替换现有的封面。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.SH SAVED_SEARCHES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb saved_searches [options] (list|add|remove)
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
管理存储在该数据库中的搜索历史。
如果尝试添加已经存在的一个名称查询，
则它将被替换。
.sp
添加语法：
.sp
calibredb \fBsaved_searches\fP add search_name search_expression
.sp
删除语法：
.sp
calibredb \fBsaved_searches\fP remove search_name
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.SH ADD_CUSTOM_COLUMN
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add_custom_column [options] label name datatype
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
创建一个自定义的栏目，栏目名为你自定义的名称，不能包含空格或冒号。数据类型可为：bool, comments, composite, datetime, enumeration, float, int, rating, series, text
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-display
一个自定义选项如何解释该栏目中数据的字典。这是一个JSON字符串。对于枚举列，使用 \fI\%\-\-display\fP\fB\(dq\fP{\e \fB\(dq\fPenum_values\e \fB\(dq\fP:[\e \fB\(dq\fPval1\e \fB\(dq\fP, \e \fB\(dq\fPval2\e \fB\(dq\fP]}\fB\(dq\fP 有许多选项可以进入显示变量，按列类型的选项是： composite: composite_template, composite_sort, make_category,contains_html, use_decorations datetime: date_format enumeration: enum_values, enum_colors, use_decorations int, float: number_format text: is_names, use_decorations 找到适当组合的最好方法是在GUI中创建适当类型的自定义栏目，然后查看书籍的备份OPF（确保自从添加该列以来已经创建了新的OPF）。在OPF中的新列中，你将看到JSON的“显示”。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-is\-multiple
此栏目存储类似数据的标签(即多个逗号分隔值)。仅当数据类型为文本时才适用。
.UNINDENT
.SH CUSTOM_COLUMNS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb custom_columns [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
列出可用的自定义栏目。显示列标签和书号。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-details, \-d
显示每栏详情。
.UNINDENT
.SH REMOVE_CUSTOM_COLUMN
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove_custom_column [options] label
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
用标签删除的自定义栏目标识。可以使用custom_columns command命令查看可用栏目
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-force, \-f
无需确认
.UNINDENT
.SH SET_CUSTOM
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb set_custom [options] column id value
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
为 id 标识的书籍设置自定义栏目的值。
您可以使用搜索命令获取id列表。
您可以使用 custom_columns 命令获取自定义栏目名的列表。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-append, \-a
如果栏目存有多个值，将指定值附加到已有值之后，而非覆盖。
.UNINDENT
.SH RESTORE_DATABASE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb restore_database [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
从calibre书库每个文件夹中OPF文件含有的元数据恢复此数据库，如果你的metadata.db文件已损坏，此方法很有用。
.sp
警告：此命令会完全重新生成数据库。你会丢失所有搜索历史，自定义分类，处理规则，已保存的每本书的版本设置和自定义配方。恢复的元数据和OPF文件中的一样准确。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-really\-do\-it, \-r
确认做恢复。除非指定了此选项，否则命令不会运行。
.UNINDENT
.SH CHECK_LIBRARY
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb check_library [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
对书库的文件系统执行一些检查。生成报告是invalid_titles, extra_titles, invalid_authors, extra_authors, missing_formats, extra_formats, extra_files, missing_covers, extra_covers, failed_folders
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-csv, \-c
以 CSV 输出
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore_extensions, \-e
逗号分隔的扩展列表将被忽略。 默认值：全部
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore_names, \-n
逗号分隔的名字列表将被忽略。 默认值：全部
.UNINDENT
.INDENT 0.0
.TP
.B \-\-report, \-r
逗号分隔的报表列表。 默认值: 全部
.UNINDENT
.INDENT 0.0
.TP
.B \-\-vacuum\-fts\-db
清空全文搜索数据库。根据数据库的大小，这可能会非常慢并且占用大量内存。
.UNINDENT
.SH LIST_CATEGORIES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb list_categories [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
在数据库中生成一个目录信息的报告。
该信息与标签浏览器中显示的信息等效。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-categories, \-r
逗号分隔类别列表检索名。默认值：全部
.UNINDENT
.INDENT 0.0
.TP
.B \-\-csv, \-c
以 CSV 输出
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dialect
产生CSV文件的类型。选择：excel, excel\-tab, unix
.UNINDENT
.INDENT 0.0
.TP
.B \-\-item_count, \-i
只输出类别中的项目数目，而不是类别内的每项计数
.UNINDENT
.INDENT 0.0
.TP
.B \-\-width, \-w
输出中单行宽度最大值。默认检测屏幕大小。
.UNINDENT
.SH BACKUP_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb backup_metadata [选项]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
将存储在数据库中的元数据备份到每个书籍文件夹中的
单个OPF文件中。这通常是自动发生的，但是您可以运行
此命令来强制重新生成OPF文件，并使用\-\-all选项。
.sp
请注意，通常不需要这样做，因为每次元数据更改时，
OPF文件都会自动备份。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-all
通常，此命令只对过时的OPF文件书籍进行操作。这个选项可使它在所有的书籍上运行。
.UNINDENT
.SH CLONE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb 拷贝到 path/to/new/library
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
创建当前书库的副本。它创建了一个新的、空的书库，它所有的自定义栏目、虚拟书库和其他设置与当前书库相同。
.sp
副本书库将没有任何书籍。如果您想要创建一个完整的副本书库，包括所有的书籍，那么只需使用您的文件系统工具来复制书库文件夹。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.SH EMBED_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb embed_metadata [options] book_id
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
从 calibre 数据库中的元数据更新存储在 calibre 书库中的实际书籍文件中的元数据。
通常，只有从 calibre 导出文件时才更新元数据，如果希望文件就地更新，则此命
令很有用。请注意，不同的文件格式支持不同数量的元数据。你可以使用book_id
的特殊值“all”来更新所有书籍中的元数据。还可以指定许多由空间分隔的书籍书号
和由连字符分隔的ID范围。例如：calibredb \fBembed_metadata\fP 1 2 10\-15 23
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-only\-formats, \-f
只更新指定格式的文件中的元数据。为多种格式指定多次。默认情况下，所有格式都会更新。
.UNINDENT
.SH SEARCH
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb搜索 [选项] 搜索表达式
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
搜索书库中指定的搜索项，返回与搜索表达式匹配的以逗号分隔的书籍书号列表。输出格式对于输入格式接受id列表的其他命令非常有用。
搜索表达式可以是来自calibre强大的搜索查询语言中的任何内容，例如：calibredb 搜索author:asimov \(aqtitle:\(dqi robot\(dq\(aq
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-limit, \-l
返回的最大结果数。默认是所有结果。
.UNINDENT
.SH FTS_INDEX
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb fts_index [options] enable/disable/status/reindex
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
控制全文搜索索引进程。
.INDENT 0.0
.TP
.B enable
启用此书库的全文索引
.TP
.B disable
关闭此书库的全文索引
.TP
.B status
显示当前索引的状态
.TP
.B reindex
.INDENT 7.0
.INDENT 3.5
可用于重新索引特定书籍或
整个书库。要重新索引特定书籍
请在reindex命令后将书籍书号指定为
.UNINDENT
.UNINDENT
.INDENT 7.0
.TP
.B 附加参数。如果未指定书籍书号，则会重新
索引整个书库。
.UNINDENT
.UNINDENT
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-indexing\-speed
索引的速度。使用快速索引可使用所有计算机资源进行快速索引，使用慢速索引可使用较少的资源进行索引。请注意，每次调用索引后，索引速度都会重置为Slow。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-wait\-for\-completion
等到所有书籍都被编入索引，定期显示索引进度
.UNINDENT
.SH FTS_SEARCH
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb fts_search [options] 搜索表达式
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
对整个书库或其子集进行全文搜索。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-do\-not\-match\-on\-related\-words
只匹配精确的单词而不是相关的单词。因此，更正将与矫正不匹配。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-include\-snippets
包括每个匹配项相关的文本片段。请注意，这会使搜索速度慢得多。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-indexing\-threshold
允许搜索前必须索引多少书库，以百分比表示。默认为90
.UNINDENT
.INDENT 0.0
.TP
.B \-\-match\-end\-marker
用于指示文本段内匹配单词的结尾的标记
.UNINDENT
.INDENT 0.0
.TP
.B \-\-match\-start\-marker
用于指示文本段内匹配单词的开头的标记
.UNINDENT
.INDENT 0.0
.TP
.B \-\-output\-format
输出搜索结果的格式。纯文本为“text”，JSON输出为“json”。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-restrict\-to
使用搜索表达式或id限制搜索的书籍。例如：ids:1,2,3表示按id限制，或search:tag:foo表示限制具有标记foo的书籍。
.UNINDENT
.SH AUTHOR
Kovid Goyal
.SH COPYRIGHT
Kovid Goyal
.\" Generated by docutils manpage writer.
.
