.\" Man page generated from reStructuredText.
.
.TH "CALIBREDB" "1" "十月 18, 2019" "4.2.0" "calibre"
.SH NAME
calibredb \- calibredb
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb command [选项] [参数]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBcalibredb\fP is the command line interface to the calibre database. It has
several sub\-commands, documented below.
.sp
\fBcalibredb\fP can be used to manipulate either a calibre database
specified by path or a calibre Content server running either on
the local machine or over the internet. You can start a calibre
Content server using either the \fBcalibre\-server\fP
program or in the main calibre program click Connect/share  → 
Start Content server\&. Since \fBcalibredb\fP can make changes to your
calibre libraries, you must setup authentication on the server first. There
are two ways to do that:
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
If you plan to connect only to a server running on the same computer,
you can simply use the \fB\-\-enable\-local\-write\fP option of the
content server, to allow any program, including calibredb, running on
the local computer to make changes to your calibre data. When running
the server from the main calibre program, this option is in
Preferences → Sharing over the net → Advanced\&.
.IP \(bu 2
If you want to enable access over the internet, then you should setup
user accounts on the server and use the \fI\%\-\-username\fP and \fI\%\-\-password\fP
options to \fBcalibredb\fP to give it access. You can setup
user authentication for \fBcalibre\-server\fP by using the \fB\-\-enable\-auth\fP
option and using \fB\-\-manage\-users\fP to create the user accounts.
If you are running the server from the main calibre program, use
Preferences → Sharing over the net → Require username/password\&.
.UNINDENT
.UNINDENT
.UNINDENT
.sp
To connect to a running Content server, pass the URL of the server to the
\fI\%\-\-with\-library\fP option, see the documentation of that option for
details and examples.
.INDENT 0.0
.IP \(bu 2
\fI\%全局选项\fP
.IP \(bu 2
\fI\%list\fP
.IP \(bu 2
\fI\%add\fP
.INDENT 2.0
.IP \(bu 2
\fI\%从目录中添加\fP
.UNINDENT
.IP \(bu 2
\fI\%remove\fP
.IP \(bu 2
\fI\%add_format\fP
.IP \(bu 2
\fI\%remove_format\fP
.IP \(bu 2
\fI\%show_metadata\fP
.IP \(bu 2
\fI\%set_metadata\fP
.IP \(bu 2
\fI\%export\fP
.IP \(bu 2
\fI\%catalog\fP
.INDENT 2.0
.IP \(bu 2
\fI\%EPUB 个选项\fP
.UNINDENT
.IP \(bu 2
\fI\%saved_searches\fP
.IP \(bu 2
\fI\%add_custom_column\fP
.IP \(bu 2
\fI\%custom_columns\fP
.IP \(bu 2
\fI\%remove_custom_column\fP
.IP \(bu 2
\fI\%set_custom\fP
.IP \(bu 2
\fI\%restore_database\fP
.IP \(bu 2
\fI\%check_library\fP
.IP \(bu 2
\fI\%list_categories\fP
.IP \(bu 2
\fI\%backup_metadata\fP
.IP \(bu 2
\fI\%clone\fP
.IP \(bu 2
\fI\%embed_metadata\fP
.IP \(bu 2
\fI\%search\fP
.UNINDENT
.SH 全局选项
.INDENT 0.0
.TP
.B \-\-help, \-h
显示此帮助信息并退出
.UNINDENT
.INDENT 0.0
.TP
.B \-\-library\-path, \-\-with\-library
calibre 库的路径。默认是使用存储在设置中的路径。您还可以连接到 calibre 内容服务器，以便在远程库上执行操作。为此使用表单的URL：\fI\%http://hostname:port/#library_id\fP 例如，\fI\%http://localhost:8080/#mylibrary\fP。library_id是要在内容服务器上连接的库的库id。您可以使用特殊的library_id值来获得服务器上可用库id的列表。有关如何通过内容服务器设置访问的详细信息，请参阅https://manual.calibre\-ebook.com/generated/en/calibredb.html。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-password
连接到 calibre 内容服务器的密码。若要从标准输入读取密码，请使用特殊值：<stdin>。若要从文件读取密码，请使用<f:/path/to/file>（即<f:后跟文件的完整路径和尾随>）。上面的角括号是必需的，记住要脱掉它们，或者使用引号。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-username
用于连接到内容服务器的用户名
.UNINDENT
.INDENT 0.0
.TP
.B \-\-version
显示程序版本号并退出
.UNINDENT
.SH LIST
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb list [选项]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
列出 calibre 数据库中可用书籍。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-ascending
升序排列结果
.UNINDENT
.INDENT 0.0
.TP
.B \-\-fields, \-f
在列出数据库中书籍时要显示的字段。应该是逗号分隔的字段列表。 可用字段： author_sort, authors, comments, cover, formats, identifiers, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, size, tags, timestamp, title, uuid 默认值：title,authors。特殊字段“all”可用于选择所有字段。除了上述内置字段之外，自定义字段还等价于*field_name，例如，对于自定义字段#rating，使用名称：*rating
.UNINDENT
.INDENT 0.0
.TP
.B \-\-for\-machine
以 JSON 格式输出，更适合机器解析。忽略每行长度和分隔符选项。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-limit
结果显示的最大数目。默认：全部
.UNINDENT
.INDENT 0.0
.TP
.B \-\-line\-width, \-w
输出中单行宽度最大值。默认检测屏幕大小。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix
所有文件路径前缀。默认为书库目录绝对路径。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-search, \-s
通过搜索请求过滤结果。对于每个搜索请求的格式，请参见用户手册中搜索相关的文档。默认为不做过滤。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-separator
分隔各个字段的字符串。默认是空格。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sort\-by
排序结果的字段。 可用字段：author_sort, authors, comments, cover, formats, identifiers, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, size, tags, timestamp, title, uuid 默认值：id
.UNINDENT
.SH ADD
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add [选项] file1 file2 file3 ...
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
添加指定文件为书籍到数据库。你可以指定目录，请查看下面目录相关选项。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-authors, \-a
设置已添加书籍的作者
.UNINDENT
.INDENT 0.0
.TP
.B \-\-cover, \-c
设置已添加书籍的封面路径
.UNINDENT
.INDENT 0.0
.TP
.B \-\-duplicates, \-d
即使书籍已经存在于数据库仍然添加。通过书名进行区分。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-empty, \-e
添加空白书籍(无格式书籍)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-identifier, \-I
设置这本书的标识符，例如 \-I asin:XXX \-I isbn:YYY
.UNINDENT
.INDENT 0.0
.TP
.B \-\-isbn, \-i
设置已添加书籍的 ISBN
.UNINDENT
.INDENT 0.0
.TP
.B \-\-languages, \-l
逗号分割的语言列表（最好使用 ISO639 语言代码，即使有些语言名称也能识别）
.UNINDENT
.INDENT 0.0
.TP
.B \-\-series, \-s
为添加的书籍设置丛书
.UNINDENT
.INDENT 0.0
.TP
.B \-\-series\-index, \-S
为添加的书籍设置丛书编号
.UNINDENT
.INDENT 0.0
.TP
.B \-\-tags, \-T
设置已添加书籍的标签
.UNINDENT
.INDENT 0.0
.TP
.B \-\-title, \-t
设置已添加书籍的标题
.UNINDENT
.SS 从目录中添加
.sp
控制从目录中添加图书的选项。默认情况下，只添加具有已知电子书文件类型扩展名的文件。
.INDENT 0.0
.TP
.B \-\-add
文件名 (glob) 模式，与此模式匹配的文件将在扫描文件目录时添加，即使它们不是已知的电子书文件类型。可以为多个模式多次指定。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore
文件名 (glob) 模式，与此模式匹配的文件将在扫描文件目录时被忽略。可以为多个模式多次指定。例如：*.pdf将忽略所有PDF文件。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-one\-book\-per\-directory, \-1
假设每个目录只有一本逻辑书籍，而所有文件均是该书的不同格式电子书
.UNINDENT
.INDENT 0.0
.TP
.B \-\-recurse, \-r
递归处理目录
.UNINDENT
.SH REMOVE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove ids
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
从数据库移除指定 id 的书籍。ids 应为以逗号分隔的 id 号列表（你可以使用搜索命令来获得 id 号）。例如，23,34,57\-85（如果指定一个区间，该区间的最后一个数字不会被包括在内）。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-permanent
不使用回收站
.UNINDENT
.SH ADD_FORMAT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add_format [options] id ebook_file
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
用 ebook_file将电子书添加到由id标识的逻辑书的可用格式中。如果格式已经存在，则替换它，除非指定了不替换选项。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-dont\-replace
如果格式已经存在不要替换它
.UNINDENT
.SH REMOVE_FORMAT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove_format [选项] id fmt
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
从ID识别的逻辑书中删除fmt格式。你可以通过使用搜索命令获取ID。fmt应该是形如LRF或TXT或EPUB的一个文件扩展名。如果逻辑书没有fmt可用则什么也不做。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.SH SHOW_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb show_metadata [options] id
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
显示在 calibre 数据库中存储的id所标识的图书的元数据。
id是来自搜索命令的id号。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-as\-opf
以 OPF 表单(XML)打印元数据
.UNINDENT
.SH SET_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb set_metadata [options] id [/path/to/metadata.opf]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
根据OPF文件的metadata.opf设置存储在 calibre 数据库中的用于标识图书的元数据。
id是来自搜索命令的id号。您可以通过使用\-\-as\-opf切换到show_metadata命令来快速
了解OPF格式。还可以用\-\-field选项设置各个字段的元数据。如果使用\-\-field选项则
不需要指定OPF文件。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-field, \-f
设置字段。格式是field_name:value，例如：\fI\%\-\-field\fP tags:tag1,tag2。使用:option:\fI\-\-list\-fields\(ga来获取所有字段名称的列表。你可以多次指定此选项来设置多个字段。注意：对于语言，你必须使用ISO639语言代码（例如en代表英文，fr代表法语等）。对于标识符，语法是:option:\fP\-\-field\(ga identifiers:isbn:XXXX,doi:YYYYY。对于布尔(是/否)字段使用真与假或是和否。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-list\-fields, \-l
列出可用于:option:
.nf
\(ga
.fi
\-\-field\(ga选项的元数据字段名称
.UNINDENT
.SH EXPORT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb export [options] ids
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
导出指定 id 的书籍至文件系统。ids 为以逗号分隔的列表。
导出操作将保存书籍的所有格式，以及其封面和元数据(保存
至一个 opf 文件)。你可以使用搜索命令来获得 id 号。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-all
导出数据库中所有的书籍，忽略 id 列表。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-asciiize
一般来说，calibre 为文件名将所有非英文字符转换为英文对应字符。警告：若关闭此项，你可能保存文件出错，取决于你的文件系统是否支持 unicode。 选定此项将关闭此操作。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-save\-cover
一般来说，calibre 将把封面保存为单独文件，和原始电子书文件分开保存。 选定此项将关闭此操作。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-update\-metadata
一般来说，calibre 将基于 calibre 书库升级存储所存文件的元数据。这使保存到磁盘变慢一些。 选定此项将关闭此操作。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-write\-opf
一般来说，calibre 将会把元数据写入单独的 OPF 文件，和原始电子书文件分开保存。 选定此项将关闭此操作。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-formats
每本书籍的格式列表，逗号间隔。默认保存所有可用格式。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-progress
报告进展
.UNINDENT
.INDENT 0.0
.TP
.B \-\-replace\-whitespace
下划线替换空格。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-single\-dir
导出所有书籍到单个目录
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template
模板用来控制保存到设备的文件的文件名和目录结构。默认是\fB"\fP{author_sort}/{title}/{title} \- {authors}\fB"\fP，它将把书籍保存到包含标题和作者的文件名的每个作者目录中。可用的控制项是: {author_sort, authors, id, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, tags, timestamp, title}
.UNINDENT
.INDENT 0.0
.TP
.B \-\-timefmt
显示日期的格式。%d \- 天, %b \- 月, %m \- 月数, %Y \- 年。默认是: %b, %Y
.UNINDENT
.INDENT 0.0
.TP
.B \-\-to\-dir
导出书籍到指定目录。默认为 .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-to\-lowercase
将路径转为小写。
.UNINDENT
.SH CATALOG
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb catalog /path/to/destination.(csv|epub|mobi|xml...) [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
按路径/到/目的扩展指定格式输出目录。
选项控制如何在生成的目录输出中显示条目。
注意，不同的目录格式支持不同的选项集。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-ids, \-i
逗号分割数据库 ID 到书目的列表。 一旦声明，则忽略 \fI\%\-\-search\fP  默认值：全部
.UNINDENT
.INDENT 0.0
.TP
.B \-\-search, \-s
为搜索查询过滤结果。搜索查询格式请参见用户手册中搜索相关内容。默认：不过滤
.UNINDENT
.INDENT 0.0
.TP
.B \-\-verbose, \-v
显示详细输出信息。有利调试
.UNINDENT
.SS EPUB 个选项
.INDENT 0.0
.TP
.B \-\-catalog\-title
生成目录的标题用作元数据标题。 默认值：\fB\(aq\fPMy Books\fB\(aq\fP 适用于：AZW3，ePub，MOBI 等输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-cross\-reference\-authors
为具有多个作者的书籍在作者节中创建交叉引用。 默认值: \fB\(aq\fPFalse\fB\(aq\fP 适用于: AZW3, EPUB, MOBI输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-debug\-pipeline
在转换过程的不同阶段分别保存输出到指定目录。 默认: \fB\(aq\fPNone\fB\(aq\fP 适用于: AZW3, EPUB, MOBI 的输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclude\-genre
描述以排除类型的标签正则表达式。 默认值： \fB\(aq\fP[.+]|^+$\fB\(aq\fP 不包括括号内的标签，例如 \fB\(aq\fP[Project Gutenberg]\fB\(aq\fP, 和 \fB\(aq\fP+\fB\(aq\fP, 默认的用于阅读书籍的标签。 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclusion\-rules
Specifies the rules used to exclude books from the generated catalog. The model for an exclusion rule is either (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fPTags\fB\(aq\fP,\fB\(aq\fP<comma\-separated list of tags>\fB\(aq\fP) or (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fP<custom column>\fB\(aq\fP,\fB\(aq\fP<pattern>\fB\(aq\fP). For example: ((\fB\(aq\fPArchived books\fB\(aq\fP,\fB\(aq\fP#status\fB\(aq\fP,\fB\(aq\fPArchived\fB\(aq\fP),) will exclude a book with a value of \fB\(aq\fPArchived\fB\(aq\fP in the custom column \fB\(aq\fPstatus\fB\(aq\fP\&. When multiple rules are defined, all rules will be applied. Default:  \fB"\fP((\fB\(aq\fPCatalogs\fB\(aq\fP,\fB\(aq\fPTags\fB\(aq\fP,\fB\(aq\fPCatalog\fB\(aq\fP),)\fB"\fP Applies to: AZW3, EPUB, MOBI output formats
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-authors
目录中包括“作者”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-descriptions
目录中包括“描述”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-genres
目录中包括“类型”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-recently\-added
目录中包括“最近添加”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-series
目录中包括“丛书系列”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-titles
目录中包括“标题”部分。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-genre\-source\-field
“类型”部分的源字段。 默认值： \fB\(aq\fP标签\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-header\-note\-source\-field
包含要在描述标头中插入的注释文本的自定义域。 默认值: \fB\(aq\fP\fB\(aq\fP 适用于: AZW3, EPUB, MOBI输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-merge\-comments\-rule
#<custom field>:[before|after]:[True|False] 指定:  <custom field> 包含与注释合并的注释的自定义字段  [before|after] 关于注释的注释放置位置  [True|False] \- 在注意和注释之间插入水平规则 默认值: \fB\(aq\fP::\fB\(aq\fP 适用于: AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-output\-profile
指定输出配置文件。在某些情况下，输出配置文件用于优化某些设备的书目分类。例如，\fB\(aq\fPkindle\fB\(aq\fP 或 \fB\(aq\fPkindle_dx\fB\(aq\fP 以章节和文章的方式来生成目录结构。默认：\fB\(aq\fPNone\fB\(aq\fP 适用于：AZW3、EPUB、MOBI 等输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix\-rules
Specifies the rules used to include prefixes indicating read books, wishlist items and other user\-specified prefixes. The model for a prefix rule is (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fP<source field>\fB\(aq\fP,\fB\(aq\fP<pattern>\fB\(aq\fP,\fB\(aq\fP<prefix>\fB\(aq\fP). When multiple rules are defined, the first matching rule will be used. Default: \fB"\fP((\fB\(aq\fPRead books\fB\(aq\fP,\fB\(aq\fPtags\fB\(aq\fP,\fB\(aq\fP+\fB\(aq\fP,\fB\(aq\fP✓\fB\(aq\fP),(\fB\(aq\fPWishlist item\fB\(aq\fP,\fB\(aq\fPtags\fB\(aq\fP,\fB\(aq\fPWishlist\fB\(aq\fP,\fB\(aq\fP×\fB\(aq\fP))\fB"\fP Applies to: AZW3, EPUB, MOBI output formats
.UNINDENT
.INDENT 0.0
.TP
.B \-\-preset
使用GUI目录生成器创建的命名预设。 预设指定用于构建目录的所有设置。 默认值: \fB\(aq\fPNone\fB\(aq\fP 适用于: AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-thumb\-width
目录中书籍封面的大小提示(英寸)。 范围： 1.0 \- 2.0 默认值： \fB\(aq\fP1.0\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-use\-existing\-cover
在生成目录时替换现有的封面。 默认值： \fB\(aq\fPFalse\fB\(aq\fP 适用于： AZW3, EPUB, MOBI 输出格式
.UNINDENT
.SH SAVED_SEARCHES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb saved_searches [options] (list|add|remove)
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
管理存储在该数据库中的保存搜索。
如果尝试添加已经存在的一个名称查询，
则它将被替换。
.sp
添加语法：
.sp
calibredb \fBsaved_searches\fP add search_name search_expression
.sp
删除语法：
.sp
calibredb \fBsaved_searches\fP remove search_name
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.SH ADD_CUSTOM_COLUMN
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add_custom_column [options] label name datatype
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
创建一个自定义的栏目，栏目名为你自定义的名称，不能包含空格或冒号。数据类型可为：bool, comments, composite, datetime, enumeration, float, int, rating, series, text
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-display
一个自定义选项如何解释该列中数据的字典。这是一个JSON字符串。对于枚举列，使用 \fI\%\-\-display\fP\fB"\fP{\e \fB"\fPenum_values\e \fB"\fP:[\e \fB"\fPval1\e \fB"\fP, \e \fB"\fPval2\e \fB"\fP]}\fB"\fP 有许多选项可以进入显示变量，按列类型的选项是： composite: composite_template, composite_sort, make_category,contains_html, use_decorations datetime: date_format enumeration: enum_values, enum_colors, use_decorations int, float: number_format text: is_names, use_decorations 找到适当组合的最好方法是在GUI中创建适当类型的自定义列，然后查看图书的备份OPF（确保自从添加该列以来已经创建了新的OPF）。在OPF中的新列中，你将看到JSON的“显示”。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-is\-multiple
此列存储类似数据的标签(即多个逗号分隔值)。仅当数据类型为文本时才适用。
.UNINDENT
.SH CUSTOM_COLUMNS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb custom_columns [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
列出可用的自定义列。显示列标签和ids。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-details, \-d
每栏显示细节。
.UNINDENT
.SH REMOVE_CUSTOM_COLUMN
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove_custom_column [options] label
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
用标签删除的自定义列标识。可以使用custom_columns command命令查看可用列
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-force, \-f
无需确认
.UNINDENT
.SH SET_CUSTOM
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb set_custom [options] column id value
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
为 id 标识的书设置自定义列的值。
您可以使用搜索命令获取 id 列表。
您可以使用 custom_columns 命令获取自定义列名的列表。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-append, \-a
如果栏存有多个值，将指定值附加到已有值之后，而非覆盖。
.UNINDENT
.SH RESTORE_DATABASE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
从calibre书库每个目录中OPF文件含有的元数据恢复此数据库，如果你的metadata.db文件已损坏，此方法很有用。
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
警告：此命令会完全重新生成数据库。你会丢失所有已保存的搜索，用户类别，插板，已保存的每本书的版本设置和自定义配方。恢复的元数据和OPF文件中的一样准确。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-really\-do\-it, \-r
确认做恢复。除非指定了此选项，否则命令不会运行。
.UNINDENT
.SH CHECK_LIBRARY
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb check_library [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
对表示库的文件系统执行一些检查。生成报告是invalid_titles, extra_titles, invalid_authors, extra_authors, missing_formats, extra_formats, extra_files, missing_covers, extra_covers, failed_folders
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-csv, \-c
以 CSV 输出
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore_extensions, \-e
逗号分隔的扩展列表将被忽略。 默认值：全部
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore_names, \-n
逗号分隔的名字列表将被忽略。 默认值：全部
.UNINDENT
.INDENT 0.0
.TP
.B \-\-report, \-r
逗号分隔的报表列表。 默认值: 全部
.UNINDENT
.SH LIST_CATEGORIES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb list_categories [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
在数据库中生成类别信息的报告。信息等同于标签窗格中显示的内容。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-categories, \-r
逗号分隔类别列表查找名称。默认值：全部
.UNINDENT
.INDENT 0.0
.TP
.B \-\-csv, \-c
以 CSV 输出
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dialect
产生CSV文件的类型。选择：excel, excel\-tab
.UNINDENT
.INDENT 0.0
.TP
.B \-\-item_count, \-i
只输出类别中的项目数目，而不是类别内的每项计数
.UNINDENT
.INDENT 0.0
.TP
.B \-\-width, \-w
输出中单行宽度最大值。默认检测屏幕大小。
.UNINDENT
.SH BACKUP_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb backup_metadata [选项]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
单独备份元数据储存到数据库到每个 OPF 文件书库。
此项默认自动发生,但是你可以运行此命令来重新生成 OPF 文件,还可以用 \-\-all 选项.
.sp
Note that there is normally no need to do this, as the OPF files are backed up
automatically, every time metadata is changed.
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-all
通常，此命令只对过时的OPF文件书籍进行操作。这个选项可使它在所有的书籍上运行。
.UNINDENT
.SH CLONE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb clone path/to/new/library
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
创建当前图书库的克隆。创建一个全新的，没有书籍的图书库，和之前的图书库保持同样的定制的栏目，虚拟图书库，以及其他设置。
这个克隆的图书库不包含任何书籍。如果你想要一个完整的复制，包括所有的书籍，那么，你只需要用系统提供的拷贝工具，拷贝整个图书库的目录就行了。
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.SH EMBED_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb embed_metadata [options] book_id
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
从 calibre 数据库中的元数据更新存储在 calibre 库中的实际图书文件中的元数据。
通常，只有从 calibre 导出文件时才更新元数据，如果希望文件就地更新，则此命
令很有用。请注意，不同的文件格式支持不同数量的元数据。你可以使用book_id
的特殊值“all”来更新所有书籍中的元数据。还可以指定许多由空间分隔的书籍ID
和由连字符分隔的ID范围。例如：calibredb \fBembed_metadata\fP 1 2 10\-15 23
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-only\-formats, \-f
只更新指定格式的文件中的元数据。为多种格式指定多次。默认情况下，所有格式都会更新。
.UNINDENT
.SH SEARCH
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb search [options] search expression
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Search the library for the specified \fBsearch\fP term, returning a comma separated
list of book ids matching the \fBsearch\fP expression. The output format is useful
to feed into other commands that accept a list of ids as input.
.sp
The \fBsearch\fP expression can be anything from calibre\(aqs powerful \fBsearch\fP query
language, for example: author:asimov title:robot
.sp
每当向具有它们自己空间的calibredb传递参数时，用引号括起这些参数。例如: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-limit, \-l
返回的最大结果数。默认是所有结果。
.UNINDENT
.SH AUTHOR
Kovid Goyal
.SH COPYRIGHT
Kovid Goyal
.\" Generated by docutils manpage writer.
.
