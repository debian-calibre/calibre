.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "CALIBRE-SERVER" "1" "1月 06, 2023" "6.11.0" "calibre"
.SH NAME
calibre-server \- calibre-server
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibre\-server [オプション] [ライブラリフォルダへのパス...]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
calibreのコンテンツサーバを開始。コンテンツサーバはcalibreライブラリを
インターネット上に公開します。\fBcalibre\-server\fP の引数としてライブラリフォルダへのパスを
指定することができます。pathの指定がない場合には、calibreプログラムの知っている
すべてのライブラリが対象となります。
.sp
スペースを含む引数を \fBcalibre\-server\fP に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.SH [オプション]
.INDENT 0.0
.TP
.B \-\-access\-log
アクセスログファイルへのパス。このログにはクライアントからサーバへの接続や、要求についての情報が記録されます。デフォルトでは、アクセスログは記録しません。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ajax\-timeout
クエリ実行時にサーバからの応答を待つ最大時間 (秒指定).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-auth\-mode
使用する認証タイプ.  サーバが使用するHTTP認証モード。SSLプロキシを介してサーバを公開する場合には \fB\(dq\fPbasic\fB\(dq\fP を設定してください。そうでない場合には \fB\(dq\fPauto\fB\(dq\fP にしてください。\fB\(dq\fPauto\fB\(dq\fP は、SSLが設定されている場合には \fB\(dq\fPbasic\fB\(dq\fP を使用し、それ以外の場合には \fB\(dq\fPdigest\fB\(dq\fP を使用します。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-auto\-reload
ソースコードが変更されたとき自動的にサーバの再読み込みを行います。デバッグ時に有用です。シャットダウンタイムアウトに小さい値を指定するのもよいでしょう。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ban\-after
利用停止するまでのログイン失敗回数.  ログインに何回失敗したらIPアドレスを遮断するかを指定。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ban\-for
連続してログインに失敗したIPアドレスを遮断.     繰り返しログインに失敗したIPアドレスを、指定した時間 (分単位) だけ一時的に遮断します。ブルートフォース攻撃への対策として有効です。0 を設定すると、遮断しません。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-book\-list\-mode
デフォルトの本の一覧モードを選択.   新規ユーザ向けのデフォルトの本の一覧モードを設定します。個々のユーザは自分で設定することによりデフォルトのモードを上書きできます。初期設定ではカバーグリッドを使用します。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-compress\-min\-size
応答がデータ圧縮を使用する最小サイズ (バイト単位).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-custom\-list\-template
カスタムな本一覧モードのテンプレートを格納した JSON へのパス。このテンプレートを作成する最も簡単な方法は、calibreの 環境設定\->ネット共有\->本の一覧テンプレート へ行ってテンプレートを作成し、エクスポートすることです。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-daemonize
プロセスをバックグラウンドでデーモンとして起動 (Linuxのみ)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-displayed\-fields
表示するユーザ定義フィールドを限定.  コンテンツサーバ /opds および /mobile ビューで表示させるユーザ定義の書誌フィールドを、カンマ区切りで指定。このオプションを指定したとき、リストにないフィールドは表示されなくなります。例: my_rating,my_tags
.UNINDENT
.INDENT 0.0
.TP
.B \-\-enable\-allow\-socket\-preallocation, \-\-disable\-allow\-socket\-preallocation
ソケットの事前割り当て。たとえばsystemdソケットアクティベーションなどと使用する場合。. デフォルトでは、このオプションは有効に設定されています。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-enable\-auth, \-\-disable\-auth
サーバアクセスにパスワード認証を使用.         通常、サーバへのアクセスには制限を設けず、誰にでもアクセスできるようになっています。このオプションを使うと、アクセスを事前に定義したユーザに限定することができます。 デフォルトでは、このオプションは無効に設定されています。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-enable\-fallback\-to\-detected\-interface, \-\-disable\-fallback\-to\-detected\-interface
自動認識したインタフェースにフォールバック.      何らかの理由によりlisten_onオプションで指定されたインタフェースにサーバがバインドできない場合、外部に接続するインタフェースを検出してバインドしようと試みます。 デフォルトでは、このオプションは有効に設定されています。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-enable\-local\-write, \-\-disable\-local\-write
認証されていないローカルコネクションでの変更を許可.  通常、認証を有効にしていない場合には、匿名ユーザがcalibreライブラリに変更を加えることができないよう、サーバは読み取り専用モードで動作します。このオプションを有効にすると、サーバと同じコンピュータからの接続の場合には、誰でも変更を加えることができるようになります。認証なしでサーバを運用しながら、calibreライブラリを変更するのにcalibredbを利用する場合に便利です。 デフォルトでは、このオプションは無効に設定されています。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-enable\-log\-not\-found, \-\-disable\-log\-not\-found
HTTP 404 (Not Found) 要求をログに保存.      通常、サーバはリソースが見つからなかったときのHTTP要求をログ保存します。しかしBOTの標的にされた場合には、ログがスパムであふれることになります。ログを止めるためにこのオプションを利用してください。 デフォルトでは、このオプションは有効に設定されています。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-enable\-use\-bonjour, \-\-disable\-use\-bonjour
BonJour経由でOPDSフィードを公開する.    BonJourサービス経由でOPDSフィードを公開します。これによりOPDSベースのリーダアプリがサーバを自動的に検出して接続できるようになります。 デフォルトでは、このオプションは有効に設定されています。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-enable\-use\-sendfile, \-\-disable\-use\-sendfile
性能向上のためゼロコピーでファイル転送.        ネットワーク上でファイルを転送する際、性能向上のためにカーネル内転送にゼロコピーを使用します。ただし、変則的なファイルシステム上では転送されたファイルが破損することがあります。転送ファイルが破損していた場合には、無効に設定してください。 デフォルトでは、このオプションは有効に設定されています。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-help, \-h
このヘルプメッセージを表示して終了
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignored\-fields
無視するユーザ定義書誌フィールド.   コンテンツサーバに /opds および /mobile ビューで表示させないユーザ定義の書誌フィールドを、カンマ区切りで指定。例: my_rating,my_tags
.UNINDENT
.INDENT 0.0
.TP
.B \-\-listen\-on
接続を待ち受けするインタフェース.   デフォルトでは、すべての利用可能なインタフェースで待ち受けします。これをたとえば \fB\(dq\fP127.0.0.1\fB\(dq\fP に変更するとローカルマシンからの接続に限定し、\fB\(dq\fP::\fB\(dq\fP に変更するとIPv6とIPv4の接続を待ち受けします。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-log
サーバログファイルへのパス。このログにはサーバ情報とエラーが記録されますが、アクセスログは記録しません。デフォルトでは標準出力に出力されます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-manage\-users
このサーバへの接続が許可されているユーザのデータベースを管理します。\-\- を追加することで自動モードで使用できます。詳細については calibre\-server \fI\%\-\-manage\-users\fP \fB\-\-\fP help を参照してください。また \fI\%\-\-userdb\fP オプションも参照してください。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-max\-header\-line\-size
単一のHTTPヘッダの最大サイズ (KB単位).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-max\-job\-time
ワーカープロセスの最大時間.      ワーカープロセスの実行を許可する最大時間 (分単位)。制限しない場合にはゼロを指定。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-max\-jobs
ワーカープロセスの最大数.       ワーカープロセスは本の閲覧準備/追加/変換などの大きなジョブを扱うために、必要に応じて起動されます。通常、こうしたプロセスの最大数はCPUコア数に基づいて決定します。この設定では、そのプロセス最大数を制御できます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-max\-log\-size
ログファイルの最大長 (MB単位).  サーバが精製するログファイルの最大サイズ。ログが指定のサイズを超えると、先頭から上書きされます。0を設定すると、上書きしなくなります。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-max\-opds\-items
OPDSフィード中の最大冊数.     サーバが単一のOPDSフィード内に返す本の最大数
.UNINDENT
.INDENT 0.0
.TP
.B \-\-max\-opds\-ungrouped\-items
OPDS フィード内のグループ化されていない項目の最大数.       著者やタグなどのカテゴリの1文字目の数がここで指定した数を超えた場合にグループ化します。0を指定するとグループ化しません。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-max\-request\-body\-size
サーバへのアップロードを許可する最大サイズ (MB単位).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-num\-per\-page
1ページあたりに表示する本の数.    ブラウザ1ページあたりに表示する本の数
.UNINDENT
.INDENT 0.0
.TP
.B \-\-pidfile
プロセスPIDを書き込むファイルを指定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-port
コネクションの接続待ち用ポート.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-search\-the\-net\-urls
「インターネットで検索」で使用する、URLを記述したJSONファイルへのパス。環境設定\->ネット共有\->インターネットで検索 へ行き、URLを作成してエクスポートすると簡単にファイルを作成できます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-shutdown\-timeout
クリーンシャットダウンを行う前の待ち時間 (秒単位).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ssl\-certfile
SSL 認証ファイルへのパス.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ssl\-keyfile
SSL プライベートキーファイルへのパス.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-timeout
アイドルな接続を切断するまでの時間 (秒単位).
.UNINDENT
.INDENT 0.0
.TP
.B \-\-trusted\-ips
指定したIPからの非認証接続での変更を許可.      通常、認証を有効にしない場合にはサーバは読み取り専用モードで動作し、匿名ユーザがキャリバーライブラリに変更を加えることを許可しません。このオプションを使用すると、指定した IP アドレスから接続しているすべてのユーザに変更を許可します。TRUSTED_IP はアドレスまたはネットワークをカンマ区切りで指定します。認証なし実行しているサーバ上で calibredb を使用して calibre ライブラリに変更を加えたい場合に使える機能です。このオプションを有効にした場合には、指定した IP アドレスから接続するユーザは誰でもライブラリに変更を加えることができることに注意してください。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-url\-prefix
すべてのURLに追加するプレフィックス.        リバースプロキシをはさんでサーバを運用する場合に有用です。使用例: URLプレフィックスとして /calibre
.UNINDENT
.INDENT 0.0
.TP
.B \-\-userdb
認証に使用するユーザデータベースへのパス。データベースは SQLite ファイルです。データベース作成には:option:
.nf
\(ga
.fi
\-\-manage\-users\(gaを使用します。ユーザ管理についての詳細は \fI\%https://manual.calibre\-ebook.com/ja/server.html#managing\-user\-accounts\-from\-the\-command\-line\-only\fP を参照してください。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-version
プログラムのバージョン番号を表示して終了
.UNINDENT
.INDENT 0.0
.TP
.B \-\-worker\-count
要求を処理するワーカースレッド数.
.UNINDENT
.SH AUTHOR
Kovid Goyal
.SH COPYRIGHT
Kovid Goyal
.\" Generated by docutils manpage writer.
.
