.\" Man page generated from reStructuredText.
.
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.TH "CALIBREDB" "1" "1月 06, 2023" "6.11.0" "calibre"
.SH NAME
calibredb \- calibredb
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb command [options] [arguments]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBcalibredb\fP は、calibre データベースへのコマンドラインインタフェースです。
以下に説明するようなサブコマンドがあります。
.sp
\fBcalibredb\fP はパスで指定した calibre データベース、またはローカルまたは
インターネット上で実行中の calibre コンテンツサーバ に対して操作を行うのに
利用できます。コンテンツサーバ を起動するには \fBcalibre\-server\fP プログラムを、
使用するか、またはメインの calibre プログラム上で 接続/共有  →  コンテンツサーバを開始
をクリックします。\fBcalibredb\fP は calibre ライブラリへの変更を行うことができるため、
まずサーバ上に認証を設定しておく必要があります。それには次の 2 種類の方法があります。
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
同じコンピュータ上で動作するサーバにのみアクセスする予定であれば、コンテンツサーバ
のオプションとして \fB\-\-enable\-local\-write\fP を指定するだけでかまいません。これにより
calibredb を含めてローカルなコンピュータ上で実行されるすべてのプログラムが calibre の
のデータに変更を加えることができるようになります。サーバをメインの calibre プログラム
から起動した場合、このオプションは 設定 → ネット共有 → 詳細 にあります。
.IP \(bu 2
インターネット越しの接続を許可したい場合、サーバ上にユーザアカウントを設定して
\fI\%\-\-username\fP および \fI\%\-\-password\fP を使用して calibre へのアクセスを
許可してください。\fBcalibre\-server\fP の認証は \fB\-\-enable\-auth\fP オプション
を使用し、\fB\-\-manage\-users\fP を使ってユーザアカウントを作成します。
メイン calibre からサーバを実行している場合には、環境設定 → ネット共有 → ユーザ名とパスワードを要求
を使用してください。
.UNINDENT
.UNINDENT
.UNINDENT
.sp
実行中のコンテンツサーバに接続するには、\fI\%\-\-with\-library\fP オプションにサーバへの URL を
渡します。このオプションについての詳しい説明や使用例はドキュメントを参照してください。
.INDENT 0.0
.IP \(bu 2
\fI\%グローバルオプション\fP
.IP \(bu 2
\fI\%list\fP
.IP \(bu 2
\fI\%add\fP
.INDENT 2.0
.IP \(bu 2
\fI\%フォルダから追加\fP
.UNINDENT
.IP \(bu 2
\fI\%remove\fP
.IP \(bu 2
\fI\%add_format\fP
.IP \(bu 2
\fI\%remove_format\fP
.IP \(bu 2
\fI\%show_metadata\fP
.IP \(bu 2
\fI\%set_metadata\fP
.IP \(bu 2
\fI\%export\fP
.IP \(bu 2
\fI\%catalog\fP
.INDENT 2.0
.IP \(bu 2
\fI\%EPUB オプション\fP
.UNINDENT
.IP \(bu 2
\fI\%saved_searches\fP
.IP \(bu 2
\fI\%add_custom_column\fP
.IP \(bu 2
\fI\%custom_columns\fP
.IP \(bu 2
\fI\%remove_custom_column\fP
.IP \(bu 2
\fI\%set_custom\fP
.IP \(bu 2
\fI\%restore_database\fP
.IP \(bu 2
\fI\%check_library\fP
.IP \(bu 2
\fI\%list_categories\fP
.IP \(bu 2
\fI\%backup_metadata\fP
.IP \(bu 2
\fI\%clone\fP
.IP \(bu 2
\fI\%embed_metadata\fP
.IP \(bu 2
\fI\%search\fP
.IP \(bu 2
\fI\%fts_index\fP
.IP \(bu 2
\fI\%fts_search\fP
.UNINDENT
.SH グローバルオプション
.INDENT 0.0
.TP
.B \-\-help, \-h
このヘルプメッセージを表示して終了
.UNINDENT
.INDENT 0.0
.TP
.B \-\-library\-path, \-\-with\-library
calibreライブラリへのパス。デフォルトでは設定画面で指定されたpathが使用されます。リモートライブラリに対して操作を行うためにcalibreコンテンツサーバに接続することも可能です。コンテンツサーバに接続するには、\fI\%http://hostname:port/#library_id\fP の形式のURLを指定します。例えば \fI\%http://localhost:8080/#mylibrary\fP のように指定します。library_id はコンテンツサーバ上の接続したいライブラリのIDです。特殊な library_id として \- を指定すると、そのサーバ上で利用可能なライブラリの一覧を表示できます。コンテンツサーバ経由でのアクセスを設定する方法について詳しくは \fI\%https://manual.calibre\-ebook.com/ja/generated/ja/calibredb.html\fP を参照してください。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-password
calibreコンテンツサーバ接続用パスワード。標準入力からパスワードを読み取るには、特殊文字 <stdin> を使ってください。パスワードをファイルから読み込むには <f:/path/to/file> を使ってください。 (例えば先頭の <f: に続けてファイルへのフルパスを記述し、最後に > で閉じます。) カギ括弧は必須です。使用するシェルによっては、必要に応じてエスケープしたり引用符で囲ってください。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-timeout
ネットワーク経由でキャリバーライブラリに接続するときのタイムアウト。秒単位。デフォルトは2分です。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-username
calibreコンテンツサーバ接続用ユーザ名
.UNINDENT
.INDENT 0.0
.TP
.B \-\-version
プログラムのバージョン番号を表示して終了
.UNINDENT
.SH LIST
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb list [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
calibreデータベースに存在する本のリスト
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-ascending
昇順に並び替え
.UNINDENT
.INDENT 0.0
.TP
.B \-\-fields, \-f
データベース中の本の一覧を表示するときに表示するフィールド。フィールドをカンマ区切りで指定します。 指定可能なフィールド: author_sort, authors, comments, cover, formats, identifiers, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, size, tags, template, timestamp, title, uuid デフォルト: title,authors  特殊フィールド名 \fB\(dq\fPall\fB\(dq\fP を指定するとすべてのフィールドを選択します。上記のビルトインフィールドの他、カスタムフィールドも *field_name として指定可能です。たとえば、カスタムフィールド #rating を表示させたいときには *rating と指定してください。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-for\-machine
JSON形式で出力します。JSONはコンピュータでの処理により適した形式です。このオプションを指定すると行幅とセパレーターオプションは無視されます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-limit
表示する最大結果数。デフォルトはすべて
.UNINDENT
.INDENT 0.0
.TP
.B \-\-line\-width, \-w
出力ファイル中の、1行の最大の長さ。デフォルトは画面サイズから判別。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix
すべてのファイルパスのプレフィックス。デフォルトはライブラリフォルダへの絶対パス。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-search, \-s
検索文字列で結果を絞り込む。検索文字列の形式については、ユーザマニュアルの検索関連のドキュメントを参照してください。デフォルトでは絞り込みを行いません。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-separator
区切り文字(デフォルトは半角スペース）
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sort\-by
The field by which to sort the results. You can specify multiple fields by separating them with commas. Available fields: author_sort, authors, comments, cover, formats, identifiers, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, size, tags, template, timestamp, title, uuid Default: id
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template
The template to run if \fB\(dq\fPtemplate\fB\(dq\fP is in the field list. Default: None
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template_file, \-t
Path to a file containing the template to run if \fB\(dq\fPtemplate\fB\(dq\fP is in the field list. Default: None
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template_heading
Heading for the template column. Default: template. This option is ignored if the option \fI\%\-\-for\-machine\fP is set
.UNINDENT
.SH ADD
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add [options] file1 file2 file3 ...
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
指定したファイルを本としてデータベースに追加します。フォルダを指定することもできます。参照
以下のフォルダ関連のオプション。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-authors, \-a
追加する本の著者を設定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-automerge, \-m
似たようなタイトルと著者の本が見つかった場合は、受信した形式（ファイル）を既存の本のレコードに自動的にマージします。 \fB\(aq\fPignore\fB\(aq\fPの値は、重複する形式が破棄されることを意味します。 \fB\(aq\fPoverwrite\fB\(aq\fPの値は、ライブラリ内の重複する形式が新しく追加されたファイルで上書きされることを意味します。 \fB\(aq\fPnew_record\fB\(aq\fPの値は、重複する形式が新しいブックレコードに配置されることを意味します。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-cover, \-c
追加する本の表紙をパスで指定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-duplicates, \-d
本がすでにデータベースに存在する場合でも追加します。本のタイトルと著者に基づいて比較します。\fI\%\-\-automerge\fP オプションが優先します。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-empty, \-e
空の本を追加する（形式が1つも無い本）
.UNINDENT
.INDENT 0.0
.TP
.B \-\-identifier, \-I
この本の識別子を設定します。例： \-I asin：XXX \-I isbn：YYY
.UNINDENT
.INDENT 0.0
.TP
.B \-\-isbn, \-i
追加する本のISBNを設定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-languages, \-l
カンマ区切りの言語のリスト(ISO639言語コードで指定するのが確実ですが、それ以外のいくつかの言語名も認識します)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-series, \-s
追加する本のシリーズを設定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-series\-index, \-S
追加する本のシリーズ番号を設定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-tags, \-T
追加する本のタグを設定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-title, \-t
追加する本のタイトルを設定
.UNINDENT
.SS フォルダから追加
.sp
フォルダからの本の追加を制御するオプション。デフォルトでは、既知の電子書籍ファイルタイプの拡張子を持つファイルのみが追加されます。
.INDENT 0.0
.TP
.B \-\-add
ファイル名（glob）パターン。このパターンに一致するファイルは、既知の電子書籍ファイルタイプでなくても、フォルダーでファイルをスキャンするときに追加されます。複数のパターンに対して複数回指定できます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore
ファイル名（glob）パターン。このパターンに一致するファイルは、フォルダーでファイルをスキャンするときに無視されます。複数のパターンに対して複数回指定できます。例：*。pdfはすべてのPDFファイルを無視します
.UNINDENT
.INDENT 0.0
.TP
.B \-\-one\-book\-per\-directory, \-1
フォルダ毎に一冊の本が格納され、その中のすべてのファイルはその本の別の電子書籍形式とみなす
.UNINDENT
.INDENT 0.0
.TP
.B \-\-recurse, \-r
フォルダを再帰的に処理
.UNINDENT
.SH REMOVE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove ids
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
idsに指定された本をデータベースから削除。idsには数字をカンマ区切りで指定します (本のIDはsearchコマンドで取得できます)。例: 23,34,57\-85 (範囲で指定した場合、範囲の終端は含まれません)
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-permanent
ゴミ箱は使用しないでください
.UNINDENT
.SH ADD_FORMAT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add_format [options] id ebook_file
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
ebook_file で指定する電子書籍ファイルを、id で指定された本の利用可能な形式として追加します。idはsearch コマンドで取得できます。形式がすでに存在する場合は、置換しないオプションを有効にした場合をのぞいて、置換されます。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-dont\-replace
形式がすでに存在する場合に置換しない
.UNINDENT
.SH REMOVE_FORMAT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove_format [options] id fmt
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
fmt で指定した形式を id で指定した本から削除します。id は search コマンドで取得できます。fmt はLRF, TXT, EPUB のようにファイルの拡張子で指定してください。本に指定した形式がない場合、なにもしません。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.SH SHOW_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb show_metadata [options] id
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
id で指定された本の、calibreのデータベースに保存された書誌を表示します。id はsearch コマンドで取得できるID番号です。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-as\-opf
OPF 形式 (XML) で書誌を表示
.UNINDENT
.SH SET_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb set_metadata [options] book_id [/path/to/metadata.opf]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Set the metadata stored in the calibre database for the book identified by
book_id from the OPF file metadata.opf. book_id is a book id number from the
search command. You can get a quick feel for the OPF format by using the
\-\-as\-opf switch to the show_metadata command. You can also set the metadata of
individual fields with the \-\-field option. If you use the \-\-field option, there
is no need to specify an OPF file.
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-field, \-f
フィールドに設定する値。field_name:value の形式で指定してください。例: \fI\%\-\-field\fP tags:tag1,tag2。使用可能なフィールド名のリストを得るには \fI\%\-\-list\-fields\fP を使用してください。複数のフィールドの値を設定するためには、このオプションを複数指定してください。注意: 言語を指定する場合は ISO639言語コードを使用してください(英語は en、フランス語は fr 等)。識別子は以下の書式で指定してください \fI\%\-\-field\fP identifiers:isbn:XXXX,doi:YYYYY。Boolean型(yes/no)のフィールドは、true, false またはyes, no で指定してください。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-list\-fields, \-l
\fI\%\-\-field\fP オプションで使用可能な書誌フィールド名のリストを表示
.UNINDENT
.SH EXPORT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb export [options] ids
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
指定した ID (カンマ区切りリスト) の本をファイルシステムにエクスポートします。
エクスポート処理では、すべての形式と表紙と書誌 (OP Fファイル)を
保存します。
ID 番号は search コマンドで取得できます。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-all
IDのリストを無視してデータベースからすべての本をエクスポートします。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-asciiize
ファイル名の英語以外の文字をすべて英語相当の文字に calibre に変換させます。Unicode ファイル名を完全にサポートしていない古いファイルシステム上に保存するときに役に立ちます。 このスイッチ指定すると、この挙動をOFFにできます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-save\-cover
通常、calibreは表紙を電子書籍ファイルとは別のファイルに保存します。 このスイッチ指定すると、この挙動をOFFにできます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-update\-metadata
通常、calibreはライブラリ内のファイルの書誌をアップデートしますが、これはディスクへの保存を遅くします。 このスイッチ指定すると、この挙動をOFFにできます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-write\-opf
通常、calibreは電子書籍ファイル本体に付随する別個のOPFファイルに書誌を書き込みます。 このスイッチ指定すると、この挙動をOFFにできます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-formats
各本を保存する時のカンマ区切りの形式のリスト。デフォルトではすべての存在する形式が保存されます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-progress
進捗状況を表示
.UNINDENT
.INDENT 0.0
.TP
.B \-\-replace\-whitespace
空白をアンダースコアに置換
.UNINDENT
.INDENT 0.0
.TP
.B \-\-single\-dir
すべての書籍を1つのフォルダにエクスポート
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template
保存したファイルのファイル名とフォルダ構成を制御するためのテンプレート。デフォルトは \fB\(dq\fP{author_sort}/{title}/{title} \- {authors}\fB\(dq\fP で、タイトルと著者名をファイル名に含むフォルダに著者別に保存します。利用可能なコントロール: {author_sort, authors, id, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, tags, timestamp, title}
.UNINDENT
.INDENT 0.0
.TP
.B \-\-timefmt
日付表示時の形式。 %d \- 日, %b \- 月(の名前), %m \- 月の番号, %Y \- 年. デフォルト: %b, %Y
.UNINDENT
.INDENT 0.0
.TP
.B \-\-to\-dir
指定したフォルダに本をエクスポートします。デフォルトは .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-to\-lowercase
パスを小文字に変換
.UNINDENT
.SH CATALOG
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb catalog /path/to/destination.(csv|epub|mobi|xml...) [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Export a \fBcatalog\fP in format specified by path/to/destination extension.
Options control how entries are displayed in the generated \fBcatalog\fP output.
Note that different \fBcatalog\fP formats support different sets of options. To
see the different options, specify the name of the output file and then the
\-\-help option.
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-ids, \-i
カタログに対するカンマ区切りのデータベースID。 宣言する場合は、:option:
.nf
\(ga
.fi
\-\-search\(gaは無視されます。 デフォルト: all
.UNINDENT
.INDENT 0.0
.TP
.B \-\-search, \-s
結果を検索文字列で絞り込みします。検索文字列の形式については、ユーザマニュアルの検索関連ドキュメントを参照してください。 デフォルト: 絞り込みなし
.UNINDENT
.INDENT 0.0
.TP
.B \-\-verbose, \-v
詳細な出力情報を表示します。デバッグに便利です。
.UNINDENT
.SS EPUB オプション
.INDENT 0.0
.TP
.B \-\-catalog\-title
書誌のタイトルとして使われる、生成されたカタログのタイトル。 デフォルト: \fB\(aq\fPMy Books\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-cross\-reference\-authors
複数の著者のいる本の著者セクション用にクロスリファレンスを作成。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-debug\-pipeline
変換パイプラインからの別々のステージの出力を指定したフォルダに保存します。変換処理のどのステージで不具合が発生しているのか不明な場合に役立ちます。 デフォルト: \fB\(aq\fPNone\fB\(aq\fP 適用: AZW3, EPUB, MOBI 出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclude\-genre
ジャンルとして除外するタグを表す正規表現。 デフォルト: \fB\(aq\fP[.+]|^+$\fB\(aq\fP はブラケットで囲まれたタグを除外します。例: \fB\(aq\fP[Project Gutenberg]\fB\(aq\fP と \fB\(aq\fP+\fB\(aq\fP は本を読むデフォルトのタグ。 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclusion\-rules
生成したカタログから除外する本を指定するルール。 除外ルールはだいたい次のいずれかのようになります。 (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fPTags\fB\(aq\fP,\fB\(aq\fP<comma\-separated list of tags>\fB\(aq\fP) または (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fP<custom column>\fB\(aq\fP,\fB\(aq\fP<pattern>\fB\(aq\fP). 使用例: ((\fB\(aq\fPArchived books\fB\(aq\fP,\fB\(aq\fP#status\fB\(aq\fP,\fB\(aq\fPArchived\fB\(aq\fP),) 上記例では、カスタム列 \fB\(aq\fPstatus\fB\(aq\fP の値が \fB\(aq\fPArchived\fB\(aq\fP の本を除外します。 ルールが複数指定されている場合には、すべて適用されます。 デフォルト: \fB\(dq\fP((\fB\(aq\fPCatalogs\fB\(aq\fP,\fB\(aq\fPTags\fB\(aq\fP,\fB\(aq\fPCatalog\fB\(aq\fP),)\fB\(dq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-authors
カタログに \fB\(aq\fPAuthors\fB\(aq\fP セクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-descriptions
カタログに \fB\(aq\fPDescription\fB\(aq\fP セクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-genres
カタログに \fB\(aq\fPGenres\fB\(aq\fP セクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-recently\-added
カタログに \fB\(aq\fPRecently Added\fB\(aq\fP セクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-series
カタログにシリーズセクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-titles
カタログに \fB\(aq\fPTitles\fB\(aq\fP セクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-genre\-source\-field
\fB\(aq\fPGenre\fB\(aq\fP セクション用のソースフィールド。 デフォルト: \fB\(aq\fPタグ\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-header\-note\-source\-field
Descriptionヘッダに挿入するノートを格納したカスタムフィールド。 デフォルト: \fB\(aq\fP\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-merge\-comments\-rule
#<custom field>:[before|after]:[True|False] の形式で指定。 <custom field> コメントにマージするノートを含むカスタムフィールド [before|after] コメントに関するノートの位置 [True|False] ノートとコメントの間に水平線を挿入するかどうか デフォルト: \fB\(aq\fP::\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-output\-profile
出力プロファイルを指定。場合により、デバイスに合わせてカタログをオプティマイズする際に出力プロファイルが必要になります。例えば、\fB\(aq\fPkindle\fB\(aq\fP または \fB\(aq\fPkindle_dx\fB\(aq\fP は、セクションと記事からなる構造化された目次を精製します。 デフォルト: \fB\(aq\fPNone\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix\-rules
既読本を示すプレフィックスや、ウィッシュリスト、その他ユーザ指定のプレフィックスを含めるために使用するルールを指定。 プレフィックスルールは (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fP<source field>\fB\(aq\fP,\fB\(aq\fP<pattern>\fB\(aq\fP,\fB\(aq\fP<prefix>\fB\(aq\fP) のように指定します。 複数のルールが指定されている場合には、最初に一致したルールが使用されます。 デフォルト: \fB\(aq\fP((\fB\(aq\fPRead books\fB\(aq\fP,\fB\(aq\fPtags\fB\(aq\fP,\fB\(aq\fP+\fB\(aq\fP,\fB\(aq\fP✓\fB\(aq\fP),(\fB\(aq\fPWishlist item\fB\(aq\fP,\fB\(aq\fPtags\fB\(aq\fP,\fB\(aq\fPWishlist\fB\(aq\fP,\fB\(aq\fP×\fB\(aq\fP))\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-preset
GUIカタログビルだーで作成された名前つきプリセットを使用。 カタログ作成のすべての設定を指定するためのプリセットです。 デフォルト: \fB\(aq\fPNone\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-thumb\-width
カタログ中の本の表紙のサイズのヒント (インチ指定) 範囲: 1.0 \- 2.0 デフォルト: \fB\(aq\fP1.0\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-use\-existing\-cover
カタログ生成時に既存の表紙を上書き。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.SH SAVED_SEARCHES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb saved_searches [options] (list|add|remove)
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
データベースに格納された保存済み検索の管理。
既存の名称で検索条件を保存しようとした場合には、上書きされます。
.sp
追加の構文:
.sp
calibredb \fBsaved_searches\fP add search_name search_expression
.sp
削除の構文:
.sp
calibredb \fBsaved_searches\fP remove search_name
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.SH ADD_CUSTOM_COLUMN
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add_custom_column [options] label name datatype
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
カスタム列を作成。labelはマシン・フレンドリな列の名前。スペースやコロンを含めません。
nameは人間に読みやすい列の名前。
datatypeは以下のいずれか: bool, comments, composite, datetime, enumeration, float, int, rating, series, text
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-display
列のデータがどのように翻訳されるかをカスタマイズする辞書を指定するオプションです。JSON文字列で指定します。列挙型の列の場合、以下を使用してください:option:\fI\-\-display\fP\fB\(dq\fP{\e \fB\(dq\fPenum_values\e \fB\(dq\fP:[\e \fB\(dq\fPval1\e \fB\(dq\fP, \e \fB\(dq\fPval2\e \fB\(dq\fP]}\fB\(dq\fP 。 値の表示方法には、様々なオプションがあります。列の型ごとのオプションは以下の通りです。 合成型: composite_template, composite_sort, make_category,contains_html, use_decorations 日付: date_format 列挙型: enum_values, enum_colors, use_decorations 整数、浮動小数点数: number_format テキスト: is_names, use_decorations  型とオプションの正しい組み合わせを知るには、GUIから適切な型のカスタム列を作成して、出力されるバックアップのOPFファイルを見てみるのが一番よい方法です(列を追加して以降にOPFが再生成されていることを確認してください)。OPFの新しい列に \fB\(dq\fPdisplay\fB\(dq\fP というJSONが見つかるでしょう。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-is\-multiple
この列はタグ状のデータ（例: 複数のカンマ区切りの値）を保持します。datatypeがtextの時のみ有効です。
.UNINDENT
.SH CUSTOM_COLUMNS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb custom_columns [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
利用可能なカスタム列の一覧を表示。列ラベルとIDを表示します。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-details, \-d
各列の詳細を表示
.UNINDENT
.SH REMOVE_CUSTOM_COLUMN
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove_custom_column [options] label
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
labelで指定されるカスタム列を削除。
custom_columns コマンドで存在するカスタム列を見ることができます。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-force, \-f
確認を表示しない
.UNINDENT
.SH SET_CUSTOM
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb set_custom [options] column id value
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
idで指定された本のカスタム列の値を設定します。
search コマンドでIDのリストが取得できます。
custom_columns コマンドでカスタム列の名前のリストが取得できます。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-append, \-a
もし列に複数の値を設定できる場合、値を指定した値に入れ替えるのではなく、すでにある値に付け加えます。
.UNINDENT
.SH RESTORE_DATABASE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb restore_database [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
calibreライブラリの各ディレクトリに保存されている OPF ファイルから書誌を読み取り、データベースを復元します。
これはmetadata.dbファイルが壊れてしまった時に有用です。
.sp
注意: このコマンドを実行すると、データベースを完全に再生成します。すべての保存済み検索、ユーザカテゴリ、書誌変換ルール、書誌ごとの変換設定、カスタムレシピは失われます。復元される書誌は、OPFファイルの内容と同等となります。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-really\-do\-it, \-r
実際にリカバリーを行います。このコマンドはこのオプションを指定しなければ実行されません。
.UNINDENT
.SH CHECK_LIBRARY
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb check_library [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
ライブラリのあるファイルシステムをチェックします。レポート：invalid_titles, extra_titles, invalid_authors, extra_authors, missing_formats, extra_formats, extra_files, missing_covers, extra_covers, failed_folders
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-csv, \-c
CSVで出力
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore_extensions, \-e
無視する拡張子(カンマ区切りのリスト) デフォルト: all
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore_names, \-n
無視する名前のカンマ区切りのリスト デフォルト: all
.UNINDENT
.INDENT 0.0
.TP
.B \-\-report, \-r
カンマ区切りのレポートのリスト デフォルト: all
.UNINDENT
.INDENT 0.0
.TP
.B \-\-vacuum\-fts\-db
全文検索データベースより抽出を行います。この操作はデータベースのサイズによっては非常に遅くなり、またメモリーを消費する場合があります。
.UNINDENT
.SH LIST_CATEGORIES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb list_categories [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
データベース中のカテゴリ情報のレポートを作成します。情報はタグブラウザに表示されるものと同等です。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-categories, \-r
カンマ区切りのカテゴリの検索名リスト。デフォルト: all
.UNINDENT
.INDENT 0.0
.TP
.B \-\-csv, \-c
CSVで出力
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dialect
DSVファイルのタイプ。選択肢: excel, excel\-tab, unix
.UNINDENT
.INDENT 0.0
.TP
.B \-\-item_count, \-i
カテゴリ内の項目別の数ではなく、カテゴリにある項目数のみを出力します。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-width, \-w
出力ファイル中の、1行の最大の長さ。デフォルトは画面サイズから判別。
.UNINDENT
.SH BACKUP_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb backup_metadata [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
データベースに格納されている書誌を、本フォルダにある個別の OPF ファイルに
バックアップします。通常は自動的に行われますが、\-\-all オプションをつけてコマンドを
実行すれば、OPF ファイルを強制的に再生成することができます。
.sp
ただし普通はこれを行う必要はありません。OPF ファイルは書誌が変更されるたびに
自動的にバックアップされるからです。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-all
通常このコマンドは、古くなったOPFファイルに対してのみ実行されます。このオプションを指定すると、すべての本に対して実行されます。
.UNINDENT
.SH CLONE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb clone path/to/new/library
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
現在のライブラリの複製を作成します。現在のライブラリと
列、仮想ライブラリ、その他の設定が同じである、新しい空の
ライブラリが作成されます。
.sp
複製されたライブラリに本は含まれません。すべての本を含む複製を
作成したい場合には、単にライブラリのフォルダをコピーしてください。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.SH EMBED_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb embed_metadata [options] book_id
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
calibreライブラリ内に保存されている電子書籍ファイルの書誌を
calibreデータベースの書誌で更新します。
通常、電子書籍ファイルの書誌の更新は、エクスポート時のみ
行われますが、このコマンドはすぐに更新を行いたい場合に便利です。
ファイル形式毎にサポートする書誌のフィールドが
異なることに留意ください。
book_id に特別な値 \(aqall\(aq を指定すると、すべての本が更新されます。
また、スペース区切りで複数のidを指定すること、ハイフン区切りで
範囲を指定することができます。
例: calibredb \fBembed_metadata\fP 1 2 10\-15 23
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-only\-formats, \-f
指定した形式のファイルのみ書誌を更新します。複数の形式を指定する場合は、オプションを複数回指定してください。デフォルトでは、すべての形式が更新されます。
.UNINDENT
.SH SEARCH
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb search [options] search expression
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
検索条件を指定してライブラリを検索し、結果を本のIDのカンマ区切りリストで返します。出力された結果は、本のIDを引数にとる他のコマンドの入力として使用するのに便利です。以下のようにcalibreの強力な検索用言語が使用できます。例: calibredb \fBsearch\fP author:asimov \(aqtitle:\(dqi robot\(dq\(aq
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-limit, \-l
返却する最大結果数。デフォルトはすべての結果。
.UNINDENT
.SH FTS_INDEX
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb fts_index [options] enable/disable/status/reindex
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
全文検索用インデックス生成処理の設定
.INDENT 0.0
.TP
.B enable
このライブラリーの FTS インデックスを有効にする
.TP
.B disable
このライブラリーの FTS インデックスを無効にする
.TP
.B status
現在のインデックス化状態を表示
.TP
.B reindex
特定のブックまたはライブラリー全体の再インデックス化を行えます。特定ブックの再インデックス化の場合はブックのidを reindex コマンドの後ろに引数として付けてください。ブックid が指定されない場合はライブラリー全体が再インデックス化されます。
.UNINDENT
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-indexing\-speed
The speed of indexing. Use fast for fast indexing using all your computers resources and slow for less resource intensive indexing. Note that the speed is reset to slow after every invocation.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-wait\-for\-completion
全てのブックのインデックス生成までお待ちください。インデックス化の進捗は定期的に表示されます
.UNINDENT
.SH FTS_SEARCH
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb fts_search [options] search expression
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Do a full text search on the entire library or a subset of it.
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: \(dq/some path/with spaces\(dq
.INDENT 0.0
.TP
.B \-\-do\-not\-match\-on\-related\-words
Only match on exact words not related words. So correction will not match correcting.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-include\-snippets
Include snippets of the text surrounding each match. Note that this makes searching much slower.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-indexing\-threshold
How much of the library must be indexed before searching is allowed, as a percentage. Defaults to 90
.UNINDENT
.INDENT 0.0
.TP
.B \-\-match\-end\-marker
The marker used to indicate the end of a matched word inside a snippet
.UNINDENT
.INDENT 0.0
.TP
.B \-\-match\-start\-marker
The marker used to indicate the start of a matched word inside a snippet
.UNINDENT
.INDENT 0.0
.TP
.B \-\-output\-format
The format to output the search results in. Either \fB\(dq\fPtext\fB\(dq\fP for plain text or \fB\(dq\fPjson\fB\(dq\fP for JSON output.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-restrict\-to
Restrict the searched books, either using a search expression or ids. For example: ids:1,2,3 to restrict by ids or search:tag:foo to restrict to books having the tag foo.
.UNINDENT
.SH AUTHOR
Kovid Goyal
.SH COPYRIGHT
Kovid Goyal
.\" Generated by docutils manpage writer.
.
