.\" Man page generated from reStructuredText.
.
.TH "CALIBREDB" "1" "4月 20, 2018" "3.22.1" "calibre"
.SH NAME
calibredb \- calibredb
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb command [options] [arguments]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBcalibredb\fP is the command line interface to the calibre database. It has
several sub\-commands, documented below.
.sp
\fBcalibredb\fP can be used to manipulate either a calibre database
specified by path or a calibre Content server running either on
the local machine or over the internet. You can start a calibre
Content server using either the \fBcalibre\-server\fP
program or in the main calibre program click Connect/share  → 
Start Content server\&. Since \fBcalibredb\fP can make changes to your
calibre libraries, you must setup authentication on the server first. There
are two ways to do that:
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
If you plan to connect only to a server running on the same computer,
you can simply use the \fB\-\-enable\-local\-write\fP option of the
content server, to allow any program, including calibredb, running on
the local computer to make changes to your calibre data. When running
the server from the main calibre program, this option is in
Preferences → Sharing over the net → Advanced\&.
.IP \(bu 2
If you want to enable access over the internet, then you should setup
user accounts on the server and use the \fI\%\-\-username\fP and \fI\%\-\-password\fP
options to \fBcalibredb\fP to give it access. You can setup
user authentication for \fBcalibre\-server\fP by using the \fB\-\-enable\-auth\fP
option and using \fB\-\-manage\-users\fP to create the user accounts.
If you are running the server from the main calibre program, use
Preferences → Sharing over the net → Require username/password\&.
.UNINDENT
.UNINDENT
.UNINDENT
.sp
To connect to a running Content server, pass the URL of the server to the
\fI\%\-\-with\-library\fP option, see the documentation of that option for
details and examples.
.INDENT 0.0
.IP \(bu 2
\fI\%グローバルオプション\fP
.IP \(bu 2
\fI\%list\fP
.IP \(bu 2
\fI\%add\fP
.INDENT 2.0
.IP \(bu 2
\fI\%ディレクトリから追加\fP
.UNINDENT
.IP \(bu 2
\fI\%remove\fP
.IP \(bu 2
\fI\%add_format\fP
.IP \(bu 2
\fI\%remove_format\fP
.IP \(bu 2
\fI\%show_metadata\fP
.IP \(bu 2
\fI\%set_metadata\fP
.IP \(bu 2
\fI\%export\fP
.IP \(bu 2
\fI\%catalog\fP
.INDENT 2.0
.IP \(bu 2
\fI\%EPUB オプション\fP
.UNINDENT
.IP \(bu 2
\fI\%saved_searches\fP
.IP \(bu 2
\fI\%add_custom_column\fP
.IP \(bu 2
\fI\%custom_columns\fP
.IP \(bu 2
\fI\%remove_custom_column\fP
.IP \(bu 2
\fI\%set_custom\fP
.IP \(bu 2
\fI\%restore_database\fP
.IP \(bu 2
\fI\%check_library\fP
.IP \(bu 2
\fI\%list_categories\fP
.IP \(bu 2
\fI\%backup_metadata\fP
.IP \(bu 2
\fI\%clone\fP
.IP \(bu 2
\fI\%embed_metadata\fP
.IP \(bu 2
\fI\%search\fP
.UNINDENT
.SH グローバルオプション
.INDENT 0.0
.TP
.B \-\-help, \-h
このヘルプメッセージを表示して終了
.UNINDENT
.INDENT 0.0
.TP
.B \-\-library\-path, \-\-with\-library
Calibreライブラリへのpath。デフォルトでは設定画面で指定されたpathが使用されます。リモートライブラリに対して操作を行うためにCalibreコンテンツサーバに接続することも可能です。コンテンツサーバに接続するには、\fI\%http://hostname:port/#library_id\fP の形式のURLを指定します。例えば \fI\%http://localhost:8080/#mylibrary\fP のように指定します。library_id はコンテンツサーバ上の接続したいライブラリのIDです。特殊な library_id として \- を指定すると、そのサーバ上で利用可能なライブラリの一覧を表示できます。コンテンツサーバ経由でのアクセスを設定する方法について詳しくは \fI\%https://manual.calibre\-ebook.com/generated/en/calibredb.html\fP を参照してください。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-password
Calibreコンテンツサーバ接続用パスワード。標準入力からパスワードを読み取るには、特殊文字 <stdin> を使ってください。パスワードをファイルから読み込むには <f:/path/to/file> を使ってください。 (例えば先頭の <f: に続けてファイルへのフルパスを記述し、最後に > で閉じます。) カギ括弧は必須です。使用するシェルによっては、必要に応じてエスケープしたり引用符で囲ってください。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-username
Calibreコンテンツサーバ接続用ユーザ名
.UNINDENT
.INDENT 0.0
.TP
.B \-\-version
プログラムのバージョン番号を表示して終了
.UNINDENT
.SH LIST
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb list [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Calibreデータベースに存在する本のリスト
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-ascending
昇順に並び替え
.UNINDENT
.INDENT 0.0
.TP
.B \-\-fields, \-f
データベース中の本の一覧を表示するときに表示するフィールド。フィールドをカンマ区切りで指定します。 指定可能なフィールド: author_sort, authors, comments, cover, formats, identifiers, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, size, tags, timestamp, title, uuid デフォルト: title,authors  特殊フィールド名 \fB"\fPall\fB"\fP を指定するとすべてのフィールドを選択します。上記のビルトインフィールドの他、カスタムフィールドも *field_name として指定可能です。たとえば、カスタムフィールド #rating を表示させたいときには *rating と指定してください。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-for\-machine
JSONフォーマットで出力します。JSONはコンピュータでの処理により適した形式です。このオプションを指定すると行幅とセパレーターオプションは無視されます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-limit
表示する最大結果数。デフォルトはすべて
.UNINDENT
.INDENT 0.0
.TP
.B \-\-line\-width, \-w
出力ファイル中の、1行の最大の長さ。デフォルトは画面サイズから判別。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix
すべてのファイルパスのプレフィックス。デフォルトはライブラリフォルダへの絶対パス。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-search, \-s
検索文字列で結果を絞り込む。検索文字列のフォーマットについては、ユーザマニュアルの検索関連のドキュメントを参照してください。デフォルトでは絞り込みを行いません。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-separator
区切り文字(デフォルトは半角スペース）
.UNINDENT
.INDENT 0.0
.TP
.B \-\-sort\-by
整列に使用するフィールド 使用可能フィールド: author_sort, authors, comments, cover, formats, identifiers, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, size, tags, timestamp, title, uuid デフォルト: id
.UNINDENT
.SH ADD
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add [options] file1 file2 file3 ...
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
指定したファイルをデータベースに追加する。ディレクトリを追加することもできます。下のディレクトリ関連オプションも参照してください。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-authors, \-a
追加する本の著者を設定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-cover, \-c
追加する本の表紙をパスで指定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-duplicates, \-d
本がすでにデータベースに存在する場合でも追加します。本のタイトルに基づいて比較します。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-empty, \-e
空の本を追加する（フォーマットが1つも無い本）
.UNINDENT
.INDENT 0.0
.TP
.B \-\-identifier, \-I
追加する本の識別子を設定、例: \-I asin:XXX \-I isbn:YYY
.UNINDENT
.INDENT 0.0
.TP
.B \-\-isbn, \-i
追加する本のISBNを設定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-languages, \-l
カンマ区切りの言語のリスト(ISO639言語コードで指定するのが確実ですが、それ以外のいくつかの言語名も認識します)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-series, \-s
追加する本のシリーズを設定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-series\-index, \-S
追加する本のシリーズ番号を設定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-tags, \-T
追加する本のタグを設定
.UNINDENT
.INDENT 0.0
.TP
.B \-\-title, \-t
追加する本のタイトルを設定
.UNINDENT
.SS ディレクトリから追加
.sp
ディレクトリからの本の追加方法を設定します。デフォルトでは既知の電子書籍ファイルタイプの拡張子のファイルのみ追加します。
.INDENT 0.0
.TP
.B \-\-add
ファイル名のglobパターンを指定し、ディレクトリからファイルを読み込むときに、指定パターンに一致したファイルは既知の電子書籍のファイルタイプでなくても追加します。複数のパターンを指定するために、複数回指定可能です。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore
ファイル名のglobパターンを指定し、パターンに一致したファイルはディレクトリからファイルを読み込むときに無視します。複数のパターンを指定するために複数回指定可能です。たちとえば、*.pdf と指定するとすべてのPDFファイルを無視します。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-one\-book\-per\-directory, \-1
各ディレクトリには1つの本しかなく、すべてのファイルは、その本の違ったフォーマットである、と仮定します。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-recurse, \-r
ディレクトリを再帰的に処理する
.UNINDENT
.SH REMOVE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove ids
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
idsに指定された本をデータベースから削除。idsには数字をカンマ区切りで指定します (本のIDはsearchコマンドで取得できます)。例: 23,34,57\-85 (範囲で指定した場合、範囲の終端は含まれません)
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-permanent
ゴミ箱を使用しない
.UNINDENT
.SH ADD_FORMAT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add_format [options] id ebook_file
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
ebook_file で指定する電子書籍ファイルを、id で指定された本の利用可能なフォーマットとして追加します。idはsearch コマンドで取得できます。フォーマットがすでに存在する場合は、置換しないオプションを有効にした場合をのぞいて、置換されます。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-dont\-replace
フォーマットがすでに存在する場合に置換しない
.UNINDENT
.SH REMOVE_FORMAT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove_format [options] id fmt
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
fmt で指定したフォーマットを id で指定した本から削除します。id は search コマンドで取得できます。fmt はLRF, TXT, EPUB のようにファイルの拡張子で指定してください。本に指定したフォーマットがない場合、なにもしません。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.SH SHOW_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb show_metadata [options] id
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
id で指定された本の、Calibreのデータベースに保存された書誌情報を表示します。id はsearch コマンドで取得できるID番号です。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-as\-opf
OPFフォーマット(XML)で書誌情報を表示
.UNINDENT
.SH SET_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
   calibredb set_metadata [options] id [/path/to/metadata.opf]


id で指定された本のCalibreのデータベースに保存された書誌情報に
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
metadata.opf で指定したOPFファイルの内容を設定します。
id はsearch コマンドで取得できるID番号です。
OPF ファイルについて簡単に知りたい場合は、show_metadata コマンドの
\-\-as\-opfオプションを使用してみてください。
\-\-field オプションを使用する場合は OPFファイルを指定する必要は
ありません。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-field, \-f
フィールドに設定する値。field_name:value の形式で指定してください。例: \fI\%\-\-field\fP tags:tag1,tag2。使用可能なフィールド名のリストを得るには \fI\%\-\-list\-fields\fP を使用してください。複数のフィールドの値を設定するためには、このオプションを複数指定してください。注意: 言語を指定する場合は ISO639言語コードを使用してください(英語は en、フランス語は fr 等)。識別子は以下の書式で指定してください \fI\%\-\-field\fP identifiers:isbn:XXXX,doi:YYYYY。Boolean型(yes/no)のフィールドは、true, false またはyes, no で指定してください。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-list\-fields, \-l
\fI\%\-\-field\fP オプションで使用可能な書誌情報フィールド名のリストを表示
.UNINDENT
.SH EXPORT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb export [options] ids
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
指定したID(カンマ区切りリスト)の本をファイルシステムにエクスポートします。
エクスポート処理では、すべてのフォーマットと表紙と書誌情報(OPFファイル)を
保存します。
ID番号は search コマンドで取得できます。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-all
IDのリストを無視してデータベースからすべての本をエクスポートします。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-asciiize
Calibreは、通常のファイル名にすべての非アルファベット文字を、英語に相当するものへ変換します。注意: これをOFFにした場合、ファイルシステムがどの程度ユニコードをサポートしているかによって、保存時にエラーが発生することがあります。 このスイッチ指定すると、この挙動をOFFにできます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-save\-cover
通常、Calibreは表紙を電子書籍ファイルとは別のファイルに保存します。 このスイッチ指定すると、この挙動をOFFにできます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-update\-metadata
通常、Calibreはライブラリ内のファイルの書誌情報をアップデートしますが、これはディスクへの保存を遅くします。 このスイッチ指定すると、この挙動をOFFにできます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dont\-write\-opf
通常、Calibreは電子書籍ファイル本体に付随する別個のOPFファイルに書誌情報を書き込みます。 このスイッチ指定すると、この挙動をOFFにできます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-formats
各本を保存する時のカンマ区切りのフォーマットのリスト。デフォルトではすべての存在するフォーマットが保存されます。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-progress
進捗状況を表示
.UNINDENT
.INDENT 0.0
.TP
.B \-\-replace\-whitespace
空白をアンダースコアに置換
.UNINDENT
.INDENT 0.0
.TP
.B \-\-single\-dir
ディレクトリにすべての本をエクスポート
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template
保存されるファイルの、ファイル名とディレクトリ構造を指定するテンプレート。デフォルトは\fB"\fP{author_sort}/{title}/{title} \- {authors}\fB"\fPで、これは本を著者別のディレクトリに入れ、タイトルと著者名のファイル名をつけます。使用可能な操作は：{author_sort, authors, id, isbn, languages, last_modified, pubdate, publisher, rating, series, series_index, tags, timestamp, title}
.UNINDENT
.INDENT 0.0
.TP
.B \-\-timefmt
日付表示時のフォーマット。 %d \- 日, %b \- 月(の名前), %m \- 月の番号, %Y \- 年. デフォルト: %b, %Y
.UNINDENT
.INDENT 0.0
.TP
.B \-\-to\-dir
本を指定したディレクトリにエクスポートします。デフォルト: .
.UNINDENT
.INDENT 0.0
.TP
.B \-\-to\-lowercase
パスを小文字に変換
.UNINDENT
.SH CATALOG
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb catalog /path/to/destination.(csv|epub|mobi|xml...) [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
path/to/destination の拡張子で指定されるフォーマットでカタログをエクスポートします。
出力されたカタログに表示するエントリはoptionsで制御します。
カタログのフォーマットにより、サポートするオプションが異なるので注意してください。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-ids, \-i
カタログに対するカンマ区切りのデータベースID。 宣言する場合は、:option:
.nf
\(ga
.fi
\-\-search\(gaは無視されます。 デフォルト: all
.UNINDENT
.INDENT 0.0
.TP
.B \-\-search, \-s
結果を検索文字列で絞り込みします。検索文字列のフォーマットについては、ユーザマニュアルの検索関連ドキュメントを参照してください。 デフォルト: 絞り込みなし
.UNINDENT
.INDENT 0.0
.TP
.B \-\-verbose, \-v
詳細な出力情報を表示します。デバッグに便利です。
.UNINDENT
.SS EPUB オプション
.INDENT 0.0
.TP
.B \-\-catalog\-title
書誌情報のタイトルとして使われる、生成されたカタログのタイトル。 デフォルト: \fB\(aq\fPMy Books\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-cross\-reference\-authors
複数の著者のいる本の著者セクション用にクロスリファレンスを作成。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-debug\-pipeline
指定したディレクトリに変換パイプライン中の異なるステージのアウトプットを保存。変換プロセスのどこでバグが発生しているのかわからないときに有用です。 デフォルト: \fB\(aq\fPNone\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclude\-genre
ジャンルとして除外するタグを表す正規表現。 デフォルト: \fB\(aq\fP[.+]|^+$\fB\(aq\fP はブラケットで囲まれたタグを除外します。例: \fB\(aq\fP[Project Gutenberg]\fB\(aq\fP と \fB\(aq\fP+\fB\(aq\fP は本を読むデフォルトのタグ。 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-exclusion\-rules
生成したカタログから除外する本を指定するルール。 除外ルールはだいたい次のいずれかのようになります。 (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fPTags\fB\(aq\fP,\fB\(aq\fP<comma\-separated list of tags>\fB\(aq\fP) または (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fP<custom column>\fB\(aq\fP,\fB\(aq\fP<pattern>\fB\(aq\fP). 使用例: ((\fB\(aq\fPArchived books\fB\(aq\fP,\fB\(aq\fP#status\fB\(aq\fP,\fB\(aq\fPArchived\fB\(aq\fP),) 上記例では、カスタム列 \fB\(aq\fPstatus\fB\(aq\fP の値が \fB\(aq\fPArchived\fB\(aq\fP の本を除外します。 ルールが複数指定されている場合には、すべて適用されます。 デフォルト: \fB"\fP((\fB\(aq\fPCatalogs\fB\(aq\fP,\fB\(aq\fPTags\fB\(aq\fP,\fB\(aq\fPCatalog\fB\(aq\fP),)\fB"\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-authors
カタログに \fB\(aq\fPAuthors\fB\(aq\fP セクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-descriptions
カタログに \fB\(aq\fPDescription\fB\(aq\fP セクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-genres
カタログに \fB\(aq\fPGenres\fB\(aq\fP セクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-recently\-added
カタログに \fB\(aq\fPRecently Added\fB\(aq\fP セクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-series
カタログにシリーズセクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-generate\-titles
カタログに \fB\(aq\fPTitles\fB\(aq\fP セクションを含める。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-genre\-source\-field
\fB\(aq\fPGenre\fB\(aq\fP セクション用のソースフィールド。 デフォルト: \fB\(aq\fPタグ\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-header\-note\-source\-field
Descriptionヘッダに挿入するノートを格納したカスタムフィールド。 デフォルト: \fB\(aq\fP\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-merge\-comments\-rule
#<custom field>:[before|after]:[True|False] の形式で指定。 <custom field> コメントにマージするノートを含むカスタムフィールド [before|after] コメントに関するノートの位置 [True|False] ノートとコメントの間に水平線を挿入するかどうか デフォルト: \fB\(aq\fP::\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-output\-profile
出力プロファイルを指定。場合により、デバイスに合わせてカタログをオプティマイズする際に出力プロファイルが必要になります。例えば、\fB\(aq\fPkindle\fB\(aq\fP または \fB\(aq\fPkindle_dx\fB\(aq\fP は、セクションと記事からなる構造化された目次を精製します。 デフォルト: \fB\(aq\fPNone\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-prefix\-rules
既読本を示すプリフィックスや、ウィッシュリスト、その他ユーザ指定のプリフィックスを含めるために使用するルールを指定。 プリフィックスルールは (\fB\(aq\fP<rule name>\fB\(aq\fP,\fB\(aq\fP<source field>\fB\(aq\fP,\fB\(aq\fP<pattern>\fB\(aq\fP,\fB\(aq\fP<prefix>\fB\(aq\fP) のように指定します。 複数のルールが指定されている場合には、最初に一致したルールが使用されます。 デフォルト: \fB\(aq\fP((\fB\(aq\fPRead books\fB\(aq\fP,\fB\(aq\fPtags\fB\(aq\fP,\fB\(aq\fP+\fB\(aq\fP,\fB\(aq\fP✓\fB\(aq\fP),(\fB\(aq\fPWishlist item\fB\(aq\fP,\fB\(aq\fPtags\fB\(aq\fP,\fB\(aq\fPWishlist\fB\(aq\fP,\fB\(aq\fP×\fB\(aq\fP))\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-preset
GUIカタログビルだーで作成された名前つきプリセットを使用。 カタログ作成のすべての設定を指定するためのプリセットです。 デフォルト: \fB\(aq\fPNone\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-thumb\-width
カタログ中の本の表紙のサイズのヒント (インチ指定) 範囲: 1.0 \- 2.0 デフォルト: \fB\(aq\fP1.0\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.INDENT 0.0
.TP
.B \-\-use\-existing\-cover
カタログ生成時に既存の表紙を上書き。 デフォルト: \fB\(aq\fPFalse\fB\(aq\fP 適用: AZW3, EPUB, MOBI出力形式
.UNINDENT
.SH SAVED_SEARCHES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb saved_searches [options] (list|add|remove)
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
データベースに格納された保存済み検索条件の管理。
既存の名称で検索条件を保存しようとした場合には、上書きされます。
.sp
追加の構文:
.sp
calibredb \fBsaved_searches\fP add search_name search_expression
.sp
削除の構文:
.sp
calibredb \fBsaved_searches\fP remove search_name
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.SH ADD_CUSTOM_COLUMN
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb add_custom_column [options] label name datatype
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
カスタム列を作成。labelはマシン・フレンドリな列の名前。スペースやコロンを含めません。
nameは人間に読みやすい列の名前。
datatypeは以下のいずれか: bool, comments, composite, datetime, enumeration, float, int, rating, series, text
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-display
列のデータがどのように翻訳されるかをカスタマイズする辞書を指定するオプションです。JSON文字列で指定します。列挙型の列の場合、以下を使用してください:option:\fI\-\-display\fP\fB"\fP{\e \fB"\fPenum_values\e \fB"\fP:[\e \fB"\fPval1\e \fB"\fP, \e \fB"\fPval2\e \fB"\fP]}\fB"\fP 。 値の表示方法には、様々なオプションがあります。列の型ごとのオプションは以下の通りです。 合成型: composite_template, composite_sort, make_category,contains_html, use_decorations 日付: date_format 列挙型: enum_values, enum_colors, use_decorations 整数、浮動小数点数: number_format テキスト: is_names, use_decorations  型とオプションの正しい組み合わせを知るには、GUIから適切な型のカスタム列を作成して、出力されるバックアップのOPFファイルを見てみるのが一番よい方法です(列を追加して以降にOPFが再生成されていることを確認してください)。OPFの新しい列に \fB"\fPdisplay\fB"\fP というJSONが見つかるでしょう。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-is\-multiple
この列はタグ状のデータ（例: 複数のカンマ区切りの値）を保持します。datatypeがtextの時のみ有効です。
.UNINDENT
.SH CUSTOM_COLUMNS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb custom_columns [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
利用可能なカスタム列の一覧を表示。列ラベルとIDを表示します。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-details, \-d
各列の詳細を表示
.UNINDENT
.SH REMOVE_CUSTOM_COLUMN
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb remove_custom_column [options] label
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
labelで指定されるカスタム列を削除。
custom_columns コマンドで存在するカスタム列を見ることができます。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-force, \-f
確認を表示しない
.UNINDENT
.SH SET_CUSTOM
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb set_custom [options] column id value
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
idで指定された本のカスタム列の値を設定します。
search コマンドでIDのリストが取得できます。
custom_columns コマンドでカスタム列の名前のリストが取得できます。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-append, \-a
もし列に複数の値を設定できる場合、値を指定した値に入れ替えるのではなく、すでにある値に付け加えます。
.UNINDENT
.SH RESTORE_DATABASE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb restore_database [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Calibreライブラリの各ディレクトリに保存されているOPFファイルから書誌情報を読み取り、データベースをリストアします。
これはmetadata.dbファイルが壊れてしまった時に有用です。
.sp
注意: このコマンドを実行すると、データベースを完全に再生成します。すべての保存済み検索条件、ユーザカテゴリ、書誌情報変換ルール、書誌ごとの変換設定、カスタムレシピは失われます。リストアされる書誌情報は、OPFファイルの内容と同等となります。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-really\-do\-it, \-r
実際にリカバリーを行います。このコマンドはこのオプションを指定しなければ実行されません。
.UNINDENT
.SH CHECK_LIBRARY
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb check_library [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
ライブラリのあるファイルシステムをチェックします。レポート：invalid_titles, extra_titles, invalid_authors, extra_authors, missing_formats, extra_formats, extra_files, missing_covers, extra_covers, failed_folders
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-csv, \-c
CSVで出力
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore_extensions, \-e
無視する拡張子(カンマ区切りのリスト) デフォルト: all
.UNINDENT
.INDENT 0.0
.TP
.B \-\-ignore_names, \-n
無視する名前のカンマ区切りのリスト デフォルト: all
.UNINDENT
.INDENT 0.0
.TP
.B \-\-report, \-r
カンマ区切りのレポートのリスト デフォルト: all
.UNINDENT
.SH LIST_CATEGORIES
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb list_categories [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
データベース中のカテゴリ情報のレポートを作成します。情報はタグブラウザに表示されるものと同等です。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-categories, \-r
カンマ区切りのカテゴリの検索名リスト。デフォルト: all
.UNINDENT
.INDENT 0.0
.TP
.B \-\-csv, \-c
CSVで出力
.UNINDENT
.INDENT 0.0
.TP
.B \-\-dialect
DSVファイルのタイプ。選択肢: excel, excel\-tab
.UNINDENT
.INDENT 0.0
.TP
.B \-\-item_count, \-i
カテゴリ内のアイテムのカウント番号ではなく、カテゴリ内のアイテム番号のみを出力します。
.UNINDENT
.INDENT 0.0
.TP
.B \-\-width, \-w
出力ファイル中の、1行の最大の長さ。デフォルトは画面サイズから判別。
.UNINDENT
.SH BACKUP_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb backup_metadata [options]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
データベースに保存された書誌情報のバックアップを、それぞれの本の
ディレクトリに個別のOPFファイルとして保存します。
通常この処理は自動的に行われますが、\-\-allオプションを
つけて実行すると、強制的にOPFファイルの再生成が実行できます。
.sp
通常は書誌情報を更新する毎にOPFファイルへのバックアップが自動的に
行われるため、このコマンドを実行する必要はありません。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-all
通常このコマンドは、古くなったOPFファイルに対してのみ実行されます。このオプションを指定すると、すべての本に対して実行されます。
.UNINDENT
.SH CLONE
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb clone path/to/new/library
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
現在のライブラリの複製を作成します。現在のライブラリと
列、仮想ライブラリ、その他の設定が同じである、新しい空の
ライブラリが作成されます。
.sp
複製されたライブラリに本は含まれません。すべての本を含む複製を
作成したい場合には、単にライブラリのフォルダをコピーしてください。
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.SH EMBED_METADATA
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb embed_metadata [options] book_id
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Calibreライブラリ内に保存されている電子書籍ファイルの書誌情報を
Calibreデータベースの書誌情報で更新します。
通常、電子書籍ファイルの書誌情報の更新は、エクスポート時のみ
行われますが、このコマンドはすぐに更新を行いたい場合に便利です。
ファイルフォーマット毎にサポートする書誌情報のフィールドが
異なることに留意ください。
book_id に特別な値 \(aqall\(aq を指定すると、すべての本が更新されます。
また、スペース区切りで複数のidを指定すること、ハイフン区切りで
範囲を指定することができます。
例: calibredb \fBembed_metadata\fP 1 2 10\-15 23
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-only\-formats, \-f
指定したフォーマットのファイルのみ書誌情報を更新します。複数のフォーマットを指定する場合は、オプションを複数回指定してください。デフォルトでは、すべてのフォーマットが更新されます。
.UNINDENT
.SH SEARCH
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
calibredb search [options] search expression
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
検索条件を指定してライブラリを検索し、結果を本のIDのカンマ区切りリストで返します。
出力された結果は、本のIDを引数にとる他のコマンドの入力として
使用するのに便利です。
.sp
以下のようにCalibreの強力な検索用言語が使用できます。例: author:asimov title:robot
.sp
スペースを含む引数を calibredb に渡す場合には、クォーテーションマークでくくってください。例: "/some path/with spaces"
.INDENT 0.0
.TP
.B \-\-limit, \-l
返却する最大結果数。デフォルトはすべての結果。
.UNINDENT
.SH AUTHOR
Kovid Goyal
.SH COPYRIGHT
Kovid Goyal
.\" Generated by docutils manpage writer.
.
