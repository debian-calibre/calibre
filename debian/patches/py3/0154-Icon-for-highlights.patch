From 5311455a9fbeeb7040013db0ba035630f4e480ee Mon Sep 17 00:00:00 2001
From: Kovid Goyal <kovid@kovidgoyal.net>
Date: Fri, 26 Jun 2020 16:50:30 +0530
Subject: [PATCH 154/201] Icon for highlights

---
 imgsrc/highlight.svg                      |  60 ++++++++++++++++++++++
 imgsrc/srv/highlight.svg                  |   1 +
 resources/images/highlight.png            | Bin 0 -> 2803 bytes
 src/calibre/gui2/actions/browse_annots.py |   2 +-
 src/calibre/gui2/library/annotations.py   |   1 +
 5 files changed, 63 insertions(+), 1 deletion(-)
 create mode 100644 imgsrc/highlight.svg
 create mode 100644 imgsrc/srv/highlight.svg
 create mode 100644 resources/images/highlight.png

diff --git a/imgsrc/highlight.svg b/imgsrc/highlight.svg
new file mode 100644
index 0000000000..e477b2d074
--- /dev/null
+++ b/imgsrc/highlight.svg
@@ -0,0 +1,60 @@
+<?xml version="1.0" encoding="UTF-8" standalone="no"?>
+<svg
+   xmlns:dc="http://purl.org/dc/elements/1.1/"
+   xmlns:cc="http://creativecommons.org/ns#"
+   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
+   xmlns:svg="http://www.w3.org/2000/svg"
+   xmlns="http://www.w3.org/2000/svg"
+   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
+   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
+   inkscape:version="1.0 (4035a4fb49, 2020-05-01)"
+   sodipodi:docname="highlight.svg"
+   id="svg4"
+   version="1.1"
+   viewBox="0 0 544 512">
+  <metadata
+     id="metadata10">
+    <rdf:RDF>
+      <cc:Work
+         rdf:about="">
+        <dc:format>image/svg+xml</dc:format>
+        <dc:type
+           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
+      </cc:Work>
+    </rdf:RDF>
+  </metadata>
+  <defs
+     id="defs8" />
+  <sodipodi:namedview
+     inkscape:current-layer="svg4"
+     inkscape:window-maximized="0"
+     inkscape:window-y="40"
+     inkscape:window-x="0"
+     inkscape:cy="256"
+     inkscape:cx="120.38095"
+     inkscape:zoom="1.96875"
+     showgrid="false"
+     id="namedview6"
+     inkscape:window-height="1400"
+     inkscape:window-width="2560"
+     inkscape:pageshadow="2"
+     inkscape:pageopacity="0"
+     guidetolerance="10"
+     gridtolerance="10"
+     objecttolerance="10"
+     borderopacity="1"
+     bordercolor="#666666"
+     pagecolor="#ffffff" />
+  <path
+     style="fill:#2caf45;fill-opacity:1"
+     id="path839"
+     d="m 527.92,79.27 -63.2,-63.2 C 444.23,-4.42 411.34,-5.45 389.6,13.72 L 190.55,183.68 360.32,353.46 530.27,154.4 c 19.18,-21.74 18.15,-54.63 -2.35,-75.13 z" />
+  <path
+     style="fill:#2271d5;fill-opacity:1"
+     id="path837"
+     d="m 124.61,239.97 a 36.592,36.592 0 0 0 -10.79,38.1 l 13.05,42.83 -50.93,50.94 96.23,96.23 50.86,-50.86 42.74,13.08 c 13.73,4.2 28.65,-0.01 38.15,-10.78 L 339.47,377.87 166.13,204.53 Z" />
+  <path
+     style="fill:#ea8404;fill-opacity:1"
+     id="path2"
+     d="M 0,479.98 99.92,512 135.37,476.55 68.33,409.51 Z" />
+</svg>
diff --git a/imgsrc/srv/highlight.svg b/imgsrc/srv/highlight.svg
new file mode 100644
index 0000000000..6751f0a39e
--- /dev/null
+++ b/imgsrc/srv/highlight.svg
@@ -0,0 +1 @@
+<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 544 512"><path d="M0 479.98L99.92 512l35.45-35.45-67.04-67.04L0 479.98zm124.61-240.01a36.592 36.592 0 0 0-10.79 38.1l13.05 42.83-50.93 50.94 96.23 96.23 50.86-50.86 42.74 13.08c13.73 4.2 28.65-.01 38.15-10.78l35.55-41.64-173.34-173.34-41.52 35.44zm403.31-160.7l-63.2-63.2c-20.49-20.49-53.38-21.52-75.12-2.35L190.55 183.68l169.77 169.78L530.27 154.4c19.18-21.74 18.15-54.63-2.35-75.13z"></path></svg>
diff --git a/resources/images/highlight.png b/resources/images/highlight.png
new file mode 100644
index 0000000000000000000000000000000000000000..ef859e986a4d8ba6f9a96b7d6e15973970fca8a8
GIT binary patch
literal 2803
zcmV<P3Jmp$P)<h;3K|Lk000e1NJLTq004jh004jp1^@s6!#-il000WQNkl<Zc-rlq
ze{dA#8OJx=T>wR?AfsT^++E7Ay$iO%u~OS+$nK_r(f*i8ai;c%9n09#OzsYm{-HBR
zl7m)kJJQw;wo_Xil{vlLOM^_2aj-?0wt)P|?GX%`GC(1h1OXjTB)LBC-ClCWguIvR
z-tNBd`^<dDe}M6x&$I8o@AH1&cR7xQX~9QpXZYj7!@MHB=u^aZK)s+Vpc9}s{ff|B
zDN8<<DZ*mDTr-o8OB;NOa1lVKF|>z|)!fZ8N5WGd6Tj?}#Z#Ez^VQEQ;%}>WRXbT0
zZ5janQEiA%Pe8Bn(dua|n>Gu7TwFUr@OhH<vLdia)JN+bzPR`Y{ooH4!On{9b(2|!
zEgT3Cz>n$=KPN$9a{|jQ@v5f*q}PpuuSu5v%7w#|SjMdd|5ku=&~W&g(CUC?-71s4
znBV~@oyCGbSOjr#9m~Gi%e+=`F~I09HvGKT!5T)vtYKf4mI8zeroqo@z^_Ov8I7Vh
zc!Y1mZ2z*!@P|5vvh*OMQml8rBK!;`-6HUFy5fro%NZRbBh8ig6e(;m@cFvrQ-o>;
z%AoF^KQ29IVfZ;+V7rJ$boUhLRU5$1>3v=i?_%Wic;9bZeiI~gw~gTE)Lq&7^?8io
z1Y$v~b~YsPkPYGIbb@aa?qDRxx6E6h*|gF&S8{G!_05cEAq^gwL_y+G1i;V8uZVA;
zNh~9awZ@m~AZZ_x0)MCogl0x}tYKdfAJW0TWmR2elfrAmZ?s@{Pj78uq(|)TiBA&_
zesC1{LbPrcgRTX#RzXt!L<xM&Lm+&gk%y?<AzjZa;&z(gXA~D-W;1=%-HVHFQ3pS(
z{ZzxB*DB6|Bpjg>K2nO_VPBSf<2<58k}gpRe_>p@2Y!4H<?vw+Af2JFwc9E_kTpwC
z4qw|FpbI`MdkF6CjqgwiW!=3220pJ3APYYxpL{qx36^=!FyNoj$7mHq_K+W~FZC<p
zOAPjidVz5GMLL{mPkqA6wTlRbUpoU`qQF3pdYH6{+y>9zB)4|s7K1(VodO5YtC8I9
zo+6%PkVjP?I=xKhrj9Ir4SwKx26^=Te?BhM5(;1V2J7yP_1+f(WWra(AEH?;gG}L)
zPv5K8$P_#vZ&$V5e;rZaGgq%E(z6WknCeBVBJ#R>viJ&vJN6v`{#NO$<c<4juEZus
zvrXRU5myo0?8&|YgsluT#h(AF%~dX6T-?TBf40+iZ}i@&RP6DiABsM#z@QK6Y-Oyj
zj4GE;#rC=z;fL>I@Clprc|*w+-hkSG^JmeScSwLr_j;e8`vKj7#41lv?FS9G1Ib5l
z{*LDHf0xqj-RFsc?+GQ=0{C>EuA<QZt1}oAJbpzyO;-U(d&&52Kz-Wb4yv1n!O!W6
zCzM=<^Uo}jYv!WK5G}s`MQuxOv;Rb{p>r}oeq|K+IbCu$Cb1?t=vp*%JsRngK3*2?
zvpxLsz`@S}+<%S%Kc@?xVEba6e;1yPB_v+&l6O7)BesWsXCOHnpdP}6pHol8YIPx2
z5y+AV$@+-ENuT{c5K*zF-RlXc#|wm?)2TZj>u}?Z1md>{^9$^;y{FI9n7A7trp5_B
zD=41ZAMe0A*ucxu4@fu_gjP7VKg@yN;Q;XBgy0V;F@M$3nOGx%A~e|iHjm4;zxdg+
z_TA|K?SxM7b2^A7l2{`_TwG`4gPcFIe}^xqKBY5!P02mCJa+hc%!%Pf8@73WV|(~z
z!IM+7%QzznAfwl+R_=EZXeil@w!R5y@g|oU2tOltK;4QuiUb)-{!7eVe%@g638M=D
z$s0=i5gzjr+Z#$?(g#C-6*)V6A$3zR3P4*T{>tu#5_H~yDB}i#QnUg<BS9eXq-_l)
zap5WAoI5a6Z!Bg3Xsd%p`x#24okV^Syu4Apr}zb+4uBrEi=l*9#4d8b=#ky;?=_(a
z>|!XnR2i%NB1dw-Qt%}c3cwDAk^x^_TEUSX?m+T;CKZ6y4JGS28ls}1bCzcIG^+@#
zXefD|s*gB%Lh64^EC8z+O5U3<*UaQ-3IMRq<N~mYq2vQ}rx8b6l!uaEvOoctZ73P=
z%VIr8WrWj{06@1Tiohg83GyXyGzTR9MT-<bL532aB87D*fWK4!<xY1<eaJ!uP((wC
z&`}i?rgOB1Ir{=*YMZf!65%2ruUW|82h{JH+zYtYNDwo~P}0xGrTeLe4@3V0nYOGY
z;cKp<VDc||8%q3&_$2l4y#aM8B>1wG;SUvo`V7u*!ZDQaiWEn$4XWX5TfrCY0AE)_
zNnAWi{iM$mJnDyp_Sp%3-bk<-=QoaGC^@&_Rq^w55Bov20uuQ@JHpQyO2&CZNxv^9
zET<ZNMZ@7TNMM(Z;TLQu;oF2e0R9QTEc~2u_?@%h=}!^>zhFa2=9)H|Cw<!azXJrp
zFW68*ZOmD@|GENh`>><14JFhCA682tLE8z2U$CKsny3!%a(Y6lLIM1O4JDLBx&)oc
zqo@E1GL+B}^=SvjRc}Noa~hdN-Ui9a{VsG)pOOOTn;SghVbq63<|2rY`VYe4UoCG;
z)H2$mH-c{T1e5#7Edabjr&Pz>)yHmzWT^xezzd8nZV?2J-3AGJkC;hcP<<OUyBOI*
zUI%O1z21O&ngIB{Z0$eZA_%IyNk_wV+YG7*v{y5d!{Ti76nA%va|zC$Ef1)7K_cI`
z=XyV}iqRexXV!DGQZ3F7(1o5R7uIc7-cb7zNa%;QvW5lKEsXZC==mjg1AspON^9!r
zTVIN`L89FkXp}Sf6ZFX$1Wl*W=3nLEt|^Roe%C+Dl>+b`dGK>Og<c7GBSCTnYNqH6
zzaO1B$lslW$!DFmN6|Bmwf<qWlx4&}4S!Oq#T6X^z9z@<o(MM^=ifqJJM9uDy)J`#
z^qTt=A+-hy<XH@l;s81uFz@k>8yN9nk%~ArjShcM?WfjrGx1&rYDkv?fMFl|M}*Up
zU`6tk?7fA_ecI~e96BV5&I7nZiA9X`2+`f_Y{Gz_5v&aUjphkhMKHk&Bj9}>VRQ_K
z@A?TY{6RH4-#WXI!#Z*64XGQ)R{)9MGdf1k_#=)70cd~01(4N_&P^P~M-9^@-eB^%
zf_w5XoHIfOMsKroDM0*aoba=XIAiH3H}-`H=pxC0x)tx(mfDJJXpE4NPkxJQF#!Bv
zLhy%H2hXQ5yz-i%WZM`8@CI9(8$H|KFu4N2oz(~aps-HdB0~vG?A{!$F~k2<oyG_m
z`Q(SWIq<}G=?p)oCvg5BMlqBeDGRDI7$F1W+%LH40O^oH@H6U(IPp&0e%esdS-wWS
zl@T&9PX3yk3V?PS318DdPsD|F;uaZ7+`;57Z>artM##WGvvdF>7Xf}wS5pzkcUb1F
z03T-O@Xr5p5#i^$g&(Jy9m^O2)4P1mr;80gZ$7{-Pcl2uK0Xvd7=RotY5_zXzhl|A
zSe$7p<+WlsX6TdO;@X0?mRZJaQ4EgbIuH8_z-Mh-TQ!H8Tve!(mx?$~PwdHe?!?<1
zVqwh{L&g#0yf0G>EzUCqZV&HGg*n#7C9HRlD~9ed3gFQB4ctvEYlIg=cZ*{){P+AY
z`0sQ_xLa73D2c8xH>JDT@y%4T>t*B*><e>cEGyQH{{u|=gJvN8Yl8p)002ovPDHLk
FV1kDjP;vkO

literal 0
HcmV?d00001

diff --git a/src/calibre/gui2/actions/browse_annots.py b/src/calibre/gui2/actions/browse_annots.py
index 8472ed8515..5ef3aca4cf 100644
--- a/src/calibre/gui2/actions/browse_annots.py
+++ b/src/calibre/gui2/actions/browse_annots.py
@@ -12,7 +12,7 @@ from calibre.gui2.actions import InterfaceAction
 class BrowseAnnotationsAction(InterfaceAction):
 
     name = 'Browse Annotations'
-    action_spec = (_('Browse annotations'), 'polish.png',
+    action_spec = (_('Browse annotations'), 'highlight.png',
                    _('Browse highlights and bookmarks from all books in the library'), _('B'))
     dont_add_to = frozenset(('context-menu-device',))
     action_type = 'current'
diff --git a/src/calibre/gui2/library/annotations.py b/src/calibre/gui2/library/annotations.py
index 5096041660..b885e35cb0 100644
--- a/src/calibre/gui2/library/annotations.py
+++ b/src/calibre/gui2/library/annotations.py
@@ -410,6 +410,7 @@ class AnnotationsBrowser(Dialog):
     def __init__(self, parent=None):
         Dialog.__init__(self, _('Annotations browser'), 'library-annotations-browser-1', parent=parent)
         self.setAttribute(Qt.WA_DeleteOnClose, False)
+        self.setWindowIcon(QIcon(I('highlight.png')))
 
     def do_open_annotation(self, book_id, fmt, annot):
         atype = annot['type']
-- 
2.28.0.rc0

