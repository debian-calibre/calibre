From 1809676dbad79d912ba5343b333703352a5ac7b7 Mon Sep 17 00:00:00 2001
From: Kovid Goyal <kovid@kovidgoyal.net>
Date: Fri, 6 Mar 2020 08:27:46 +0530
Subject: [PATCH 001/107] Use -zz for rsync

---
 setup/hosting.py | 2 +-
 setup/upload.py  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/setup/hosting.py b/setup/hosting.py
index 4e8851ebec..2d37dbebcd 100644
--- a/setup/hosting.py
+++ b/setup/hosting.py
@@ -102,7 +102,7 @@ class SourceForge(Base):  # {{{
             for i in range(5):
                 try:
                     check_call([
-                        'rsync', '-h', '-z', '--progress', '-e', 'ssh -x', x,
+                        'rsync', '-h', '-zz', '--progress', '-e', 'ssh -x', x,
                         '%s,%s@frs.sourceforge.net:%s' %
                         (self.username, self.project, self.rdir + '/')
                     ])
diff --git a/setup/upload.py b/setup/upload.py
index bfe5a99cd5..4ec3a21ab7 100644
--- a/setup/upload.py
+++ b/setup/upload.py
@@ -123,7 +123,7 @@ def get_fosshub_data():
 
 def send_data(loc):
     subprocess.check_call([
-        'rsync', '--inplace', '--delete', '-r', '-z', '-h', '--progress', '-e',
+        'rsync', '--inplace', '--delete', '-r', '-zz', '-h', '--progress', '-e',
         'ssh -x', loc + '/', '%s@%s:%s' % (STAGING_USER, STAGING_HOST, STAGING_DIR)
     ])
 
-- 
2.25.1

