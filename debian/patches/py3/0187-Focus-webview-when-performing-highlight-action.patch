From 656436a50784679e5a121f2df662743396568808 Mon Sep 17 00:00:00 2001
From: Kovid Goyal <kovid@kovidgoyal.net>
Date: Mon, 13 Jul 2020 11:54:14 +0530
Subject: [PATCH 187/284] Focus webview when performing highlight action

---
 src/calibre/gui2/viewer/web_view.py | 1 +
 1 file changed, 1 insertion(+)

diff --git a/src/calibre/gui2/viewer/web_view.py b/src/calibre/gui2/viewer/web_view.py
index 069a859ec3..4db5d226ef 100644
--- a/src/calibre/gui2/viewer/web_view.py
+++ b/src/calibre/gui2/viewer/web_view.py
@@ -686,6 +686,7 @@ class WebView(RestartingWebEngineView):
 
     def highlight_action(self, uuid, which):
         self.execute_when_ready('highlight_action', uuid, which)
+        self.setFocus(Qt.OtherFocusReason)
 
     def contextMenuEvent(self, ev):
         ev.accept()
-- 
2.28.0

