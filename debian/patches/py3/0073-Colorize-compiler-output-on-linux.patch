From 8bfe1f354456207b3c986271d18c1a80265bce44 Mon Sep 17 00:00:00 2001
From: Kovid Goyal <kovid@kovidgoyal.net>
Date: Fri, 6 Dec 2019 14:36:57 +0530
Subject: [PATCH 073/104] Colorize compiler output on linux

---
 setup/build.py |    2 ++
 1 file changed, 2 insertions(+)

--- calibre-debian.git.orig/setup/build.py
+++ calibre-debian.git/setup/build.py
@@ -173,6 +173,8 @@ def init_env():
 
     if islinux:
         cflags.append('-pthread')
+        if sys.stdout.isatty():
+            cflags.append('-fdiagnostics-color=always')
         ldflags.append('-shared')
 
     if isbsd:
