From 1e821460008e1ea5fce87a7a7bf824c80f927963 Mon Sep 17 00:00:00 2001
From: Kovid Goyal <kovid@kovidgoyal.net>
Date: Wed, 20 Nov 2019 07:29:37 +0530
Subject: [PATCH 013/125] Auto fix excess blank lines

---
 bypy/macos/__main__.py                                      |    4 +---
 bypy/windows/__main__.py                                    |    1 -
 manual/plugin_examples/webengine_demo/__init__.py           |    1 -
 manual/plugin_examples/webengine_demo/main.py               |    1 -
 setup/browser_data.py                                       |    1 -
 setup/git_version.py                                        |    1 -
 setup/install.py                                            |    1 -
 setup/port.py                                               |    1 -
 setup/publish.py                                            |    1 -
 setup/test.py                                               |    1 -
 setup/unix-ci.py                                            |    1 -
 setup/win-ci.py                                             |    1 -
 src/calibre/db/cli/__init__.py                              |    1 -
 src/calibre/db/cli/cmd_add.py                               |    1 -
 src/calibre/db/cli/cmd_add_custom_column.py                 |    1 -
 src/calibre/db/cli/cmd_add_format.py                        |    1 -
 src/calibre/db/cli/cmd_backup_metadata.py                   |    1 -
 src/calibre/db/cli/cmd_catalog.py                           |    1 -
 src/calibre/db/cli/cmd_check_library.py                     |    1 -
 src/calibre/db/cli/cmd_clone.py                             |    1 -
 src/calibre/db/cli/cmd_custom_columns.py                    |    1 -
 src/calibre/db/cli/cmd_embed_metadata.py                    |    1 -
 src/calibre/db/cli/cmd_export.py                            |    1 -
 src/calibre/db/cli/cmd_list.py                              |    1 -
 src/calibre/db/cli/cmd_list_categories.py                   |    1 -
 src/calibre/db/cli/cmd_remove.py                            |    1 -
 src/calibre/db/cli/cmd_remove_custom_column.py              |    1 -
 src/calibre/db/cli/cmd_remove_format.py                     |    1 -
 src/calibre/db/cli/cmd_restore_database.py                  |    1 -
 src/calibre/db/cli/cmd_saved_searches.py                    |    1 -
 src/calibre/db/cli/cmd_search.py                            |    1 -
 src/calibre/db/cli/cmd_set_custom.py                        |    1 -
 src/calibre/db/cli/cmd_set_metadata.py                      |    1 -
 src/calibre/db/cli/cmd_show_metadata.py                     |    1 -
 src/calibre/db/cli/utils.py                                 |    1 -
 src/calibre/db/copy_to_library.py                           |    1 -
 src/calibre/db/restore.py                                   |    1 -
 src/calibre/devices/cli.py                                  |    1 -
 src/calibre/devices/kindle/bookmark.py                      |    1 -
 src/calibre/devices/kobo/__init__.py                        |    1 -
 src/calibre/devices/smart_device_app/__init__.py            |    1 -
 src/calibre/devices/usbms/books.py                          |    1 -
 src/calibre/devices/winusb.py                               |    1 -
 src/calibre/ebooks/BeautifulSoup.py                         |    1 -
 src/calibre/ebooks/conversion/plugins/djvu_input.py         |    1 -
 src/calibre/ebooks/conversion/plugins/htmlz_input.py        |    1 -
 src/calibre/ebooks/conversion/plugins/htmlz_output.py       |    1 -
 src/calibre/ebooks/conversion/search_replace.py             |    1 -
 src/calibre/ebooks/epub/pages.py                            |    1 -
 src/calibre/ebooks/htmlz/oeb2html.py                        |    1 -
 src/calibre/ebooks/lrf/pylrs/pylrfopt.py                    |    1 -
 src/calibre/ebooks/metadata/book/serialize.py               |    2 --
 src/calibre/ebooks/metadata/kfx.py                          |    1 -
 src/calibre/ebooks/metadata/opf.py                          |    1 -
 src/calibre/ebooks/metadata/opf3.py                         |    1 -
 src/calibre/ebooks/metadata/opf_2_to_3.py                   |    1 -
 src/calibre/ebooks/metadata/plucker.py                      |    1 -
 src/calibre/ebooks/metadata/search_internet.py              |    1 -
 src/calibre/ebooks/metadata/snb.py                          |    1 -
 src/calibre/ebooks/oeb/polish/download.py                   |    1 -
 src/calibre/ebooks/oeb/polish/upgrade.py                    |    1 -
 src/calibre/ebooks/oeb/transforms/unsmarten.py              |    1 -
 src/calibre/ebooks/pdb/ereader/reader202.py                 |    1 -
 src/calibre/ebooks/pdb/header.py                            |    1 -
 src/calibre/ebooks/pdb/plucker/reader.py                    |    1 -
 src/calibre/ebooks/pdf/develop.py                           |    1 -
 src/calibre/ebooks/pdf/image_writer.py                      |    1 -
 src/calibre/ebooks/pdf/test_html_writer.py                  |    1 -
 src/calibre/ebooks/readability/debug.py                     |    1 -
 src/calibre/ebooks/render_html.py                           |    1 -
 src/calibre/gui2/actions/author_mapper.py                   |    1 -
 src/calibre/gui2/actions/store.py                           |    1 -
 src/calibre/gui2/actions/virtual_library.py                 |    2 --
 src/calibre/gui2/add_filters.py                             |    1 -
 src/calibre/gui2/author_mapper.py                           |    1 -
 src/calibre/gui2/changes.py                                 |    1 -
 src/calibre/gui2/convert/single.py                          |    1 -
 src/calibre/gui2/css_transform_rules.py                     |    1 -
 src/calibre/gui2/dialogs/choose_plugin_toolbars.py          |    1 -
 src/calibre/gui2/dialogs/restore_library.py                 |    1 -
 src/calibre/gui2/dialogs/saved_search_editor.py             |    1 -
 src/calibre/gui2/ebook_download.py                          |    1 -
 src/calibre/gui2/layout_menu.py                             |    1 -
 src/calibre/gui2/pin_columns.py                             |    1 -
 src/calibre/gui2/preferences/emailp.py                      |    1 -
 src/calibre/gui2/preferences/tweaks.py                      |    1 -
 src/calibre/gui2/progress_indicator/__init__.py             |    2 --
 src/calibre/gui2/qt_file_dialogs.py                         |    1 -
 src/calibre/gui2/splash_screen.py                           |    1 -
 src/calibre/gui2/store/__init__.py                          |    1 -
 src/calibre/gui2/store/basic_config.py                      |    1 -
 src/calibre/gui2/store/config/chooser/adv_search_builder.py |    1 -
 src/calibre/gui2/store/config/chooser/chooser_dialog.py     |    1 -
 src/calibre/gui2/store/config/chooser/chooser_widget.py     |    1 -
 src/calibre/gui2/store/config/chooser/models.py             |    1 -
 src/calibre/gui2/store/config/chooser/results_view.py       |    1 -
 src/calibre/gui2/store/config/search/search_widget.py       |    1 -
 src/calibre/gui2/store/config/store.py                      |    1 -
 src/calibre/gui2/store/opensearch_store.py                  |    1 -
 src/calibre/gui2/store/search/adv_search_builder.py         |    1 -
 src/calibre/gui2/store/search/download_thread.py            |    1 -
 src/calibre/gui2/store/search/models.py                     |    1 -
 src/calibre/gui2/store/search/results_view.py               |    1 -
 src/calibre/gui2/store/search/search.py                     |    1 -
 src/calibre/gui2/store/search_result.py                     |    1 -
 src/calibre/gui2/store/web_store.py                         |    1 -
 src/calibre/gui2/store/web_store_dialog.py                  |    1 -
 src/calibre/gui2/tag_mapper.py                              |    1 -
 src/calibre/gui2/toc/main.py                                |    1 -
 src/calibre/gui2/tweak_book/check_links.py                  |    1 -
 src/calibre/gui2/tweak_book/editor/comments.py              |    1 -
 src/calibre/gui2/tweak_book/text_search.py                  |    1 -
 src/calibre/gui2/viewer/annotations.py                      |    1 -
 src/calibre/gui2/viewer/bookmarks.py                        |    1 -
 src/calibre/gui2/viewer/convert_book.py                     |    1 -
 src/calibre/gui2/viewer/lookup.py                           |    1 -
 src/calibre/gui2/viewer/main.py                             |    1 -
 src/calibre/gui2/viewer/overlay.py                          |    1 -
 src/calibre/gui2/viewer/shortcuts.py                        |    1 -
 src/calibre/gui2/viewer/toc.py                              |    1 -
 src/calibre/gui2/viewer/toolbars.py                         |    1 -
 src/calibre/gui2/viewer/ui.py                               |    1 -
 src/calibre/gui2/viewer/web_view.py                         |    1 -
 src/calibre/gui2/webengine.py                               |    1 -
 src/calibre/gui2/widgets2.py                                |    1 -
 src/calibre/library/comments.py                             |    1 -
 src/calibre/srv/books.py                                    |    1 -
 src/calibre/srv/cdb.py                                      |    1 -
 src/calibre/srv/code.py                                     |    1 -
 src/calibre/srv/convert.py                                  |    1 -
 src/calibre/srv/legacy.py                                   |    1 -
 src/calibre/srv/library_broker.py                           |    1 -
 src/calibre/srv/render_book.py                              |    1 -
 src/calibre/srv/users_api.py                                |    1 -
 src/calibre/srv/web_socket.py                               |    1 -
 src/calibre/translations/msgfmt.py                          |    1 -
 src/calibre/utils/__init__.py                               |    1 -
 src/calibre/utils/file_type_icons.py                        |    1 -
 src/calibre/utils/fonts/sfnt/merge.py                       |    1 -
 src/calibre/utils/html2text.py                              |    1 -
 src/calibre/utils/network.py                                |    1 -
 src/calibre/utils/opensearch/description.py                 |    1 -
 src/calibre/utils/opensearch/query.py                       |    1 -
 src/calibre/utils/opensearch/url.py                         |    1 -
 src/calibre/utils/random_ua.py                              |    1 -
 src/calibre/utils/search_query_parser_test.py               |    1 -
 src/calibre/utils/smartypants.py                            |    1 -
 src/calibre/utils/speedups.py                               |    1 -
 src/calibre/utils/tdir_in_cache.py                          |    1 -
 src/calibre/utils/test_lock.py                              |    1 -
 src/calibre/utils/text2int.py                               |    1 -
 src/calibre/utils/unicode_names.py                          |    1 -
 src/calibre/utils/unsmarten.py                              |    1 -
 src/calibre/utils/windows/wintest.py                        |    1 -
 src/calibre/utils/wordcount.py                              |    1 -
 src/polyglot/binary.py                                      |    1 -
 src/polyglot/io.py                                          |    1 -
 src/polyglot/urllib.py                                      |    1 -
 src/tinycss/decoding.py                                     |    1 -
 src/tinycss/parsing.py                                      |    2 --
 src/tinycss/token_data.py                                   |    1 -
 src/tinycss/tokenizer.py                                    |    1 -
 162 files changed, 1 insertion(+), 168 deletions(-)

Index: b/bypy/macos/__main__.py
===================================================================
--- a/bypy/macos/__main__.py
+++ b/bypy/macos/__main__.py
@@ -2,8 +2,6 @@
 # vim:fileencoding=utf-8
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
-
-
 import errno
 import glob
 import json
@@ -504,7 +502,7 @@ class Freeze(object):
         for x in (
                 'usb-1.0.0', 'mtp.9', 'chm.0', 'sqlite3.0', 'hunspell-1.7.0',
                 'icudata.64', 'icui18n.64', 'icuio.64', 'icuuc.64', 'hyphen.0',
-                'xslt.1', 'exslt.0', 'xml2.2', 'z.1', 'unrar',
+                'xslt.1', 'exslt.0', 'xml2.2', 'z.1', 'unrar', 'lzma.5',
                 'crypto.1.0.0', 'ssl.1.0.0', 'iconv.2',  # 'ltdl.7'
         ):
             print('\nAdding', x)
Index: b/bypy/windows/__main__.py
===================================================================
--- a/bypy/windows/__main__.py
+++ b/bypy/windows/__main__.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import errno
 import glob
 import os
Index: b/manual/plugin_examples/webengine_demo/__init__.py
===================================================================
--- a/manual/plugin_examples/webengine_demo/__init__.py
+++ b/manual/plugin_examples/webengine_demo/__init__.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 # The class that all Interface Action plugin wrappers must inherit from
 from calibre.customize import InterfaceActionBase
 
Index: b/manual/plugin_examples/webengine_demo/main.py
===================================================================
--- a/manual/plugin_examples/webengine_demo/main.py
+++ b/manual/plugin_examples/webengine_demo/main.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import QUrl
 from PyQt5.QtWebEngineWidgets import QWebEngineView
 
Index: b/setup/browser_data.py
===================================================================
--- a/setup/browser_data.py
+++ b/setup/browser_data.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import json
 import gzip
Index: b/setup/git_version.py
===================================================================
--- a/setup/git_version.py
+++ b/setup/git_version.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2019, Eli Schwartz <eschwartz@archlinux.org>
 
 
-
 import re
 import subprocess
 
Index: b/setup/install.py
===================================================================
--- a/setup/install.py
+++ b/setup/install.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2009, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import atexit
 import glob
 import os
Index: b/setup/port.py
===================================================================
--- a/setup/port.py
+++ b/setup/port.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import errno
 import hashlib
 import json
Index: b/setup/publish.py
===================================================================
--- a/setup/publish.py
+++ b/setup/publish.py
@@ -2,7 +2,6 @@
 # vim:fileencoding=UTF-8:ts=4:sw=4:sta:et:sts=4:ai
 
 
-
 __license__ = 'GPL v3'
 __copyright__ = '2009, Kovid Goyal <kovid@kovidgoyal.net>'
 __docformat__ = 'restructuredtext en'
Index: b/setup/test.py
===================================================================
--- a/setup/test.py
+++ b/setup/test.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import unittest
 
Index: b/setup/unix-ci.py
===================================================================
--- a/setup/unix-ci.py
+++ b/setup/unix-ci.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import shlex
 import subprocess
Index: b/setup/win-ci.py
===================================================================
--- a/setup/win-ci.py
+++ b/setup/win-ci.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import io
 import os
 import subprocess
Index: b/src/calibre/db/cli/__init__.py
===================================================================
--- a/src/calibre/db/cli/__init__.py
+++ b/src/calibre/db/cli/__init__.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import importlib
 
 
Index: b/src/calibre/db/cli/cmd_add.py
===================================================================
--- a/src/calibre/db/cli/cmd_add.py
+++ b/src/calibre/db/cli/cmd_add.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import sys
 from contextlib import contextmanager
Index: b/src/calibre/db/cli/cmd_add_custom_column.py
===================================================================
--- a/src/calibre/db/cli/cmd_add_custom_column.py
+++ b/src/calibre/db/cli/cmd_add_custom_column.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import json
 
 from calibre import prints
Index: b/src/calibre/db/cli/cmd_add_format.py
===================================================================
--- a/src/calibre/db/cli/cmd_add_format.py
+++ b/src/calibre/db/cli/cmd_add_format.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 from io import BytesIO
 
Index: b/src/calibre/db/cli/cmd_backup_metadata.py
===================================================================
--- a/src/calibre/db/cli/cmd_backup_metadata.py
+++ b/src/calibre/db/cli/cmd_backup_metadata.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from calibre import prints
 
 readonly = True
Index: b/src/calibre/db/cli/cmd_catalog.py
===================================================================
--- a/src/calibre/db/cli/cmd_catalog.py
+++ b/src/calibre/db/cli/cmd_catalog.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 
 from calibre.customize.ui import available_catalog_formats, plugin_for_catalog_format
Index: b/src/calibre/db/cli/cmd_check_library.py
===================================================================
--- a/src/calibre/db/cli/cmd_check_library.py
+++ b/src/calibre/db/cli/cmd_check_library.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import csv
 import sys
 
Index: b/src/calibre/db/cli/cmd_clone.py
===================================================================
--- a/src/calibre/db/cli/cmd_clone.py
+++ b/src/calibre/db/cli/cmd_clone.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 
 from calibre import patheq
Index: b/src/calibre/db/cli/cmd_custom_columns.py
===================================================================
--- a/src/calibre/db/cli/cmd_custom_columns.py
+++ b/src/calibre/db/cli/cmd_custom_columns.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from pprint import pformat
 
 from calibre import prints
Index: b/src/calibre/db/cli/cmd_embed_metadata.py
===================================================================
--- a/src/calibre/db/cli/cmd_embed_metadata.py
+++ b/src/calibre/db/cli/cmd_embed_metadata.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from calibre import prints
 from calibre.db.cli import integers_from_string
 from calibre.srv.changes import formats_added
Index: b/src/calibre/db/cli/cmd_export.py
===================================================================
--- a/src/calibre/db/cli/cmd_export.py
+++ b/src/calibre/db/cli/cmd_export.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 
 from calibre.db.cli import integers_from_string
Index: b/src/calibre/db/cli/cmd_list.py
===================================================================
--- a/src/calibre/db/cli/cmd_list.py
+++ b/src/calibre/db/cli/cmd_list.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import json
 import os
 import sys
Index: b/src/calibre/db/cli/cmd_list_categories.py
===================================================================
--- a/src/calibre/db/cli/cmd_list_categories.py
+++ b/src/calibre/db/cli/cmd_list_categories.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import csv
 import sys
 from textwrap import TextWrapper
Index: b/src/calibre/db/cli/cmd_remove.py
===================================================================
--- a/src/calibre/db/cli/cmd_remove.py
+++ b/src/calibre/db/cli/cmd_remove.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from calibre.db.cli import integers_from_string
 from calibre.db.delete_service import delete_service
 from calibre.srv.changes import books_deleted
Index: b/src/calibre/db/cli/cmd_remove_custom_column.py
===================================================================
--- a/src/calibre/db/cli/cmd_remove_custom_column.py
+++ b/src/calibre/db/cli/cmd_remove_custom_column.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import sys
 from calibre import prints
 from calibre.db.legacy import LibraryDatabase
Index: b/src/calibre/db/cli/cmd_remove_format.py
===================================================================
--- a/src/calibre/db/cli/cmd_remove_format.py
+++ b/src/calibre/db/cli/cmd_remove_format.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from calibre.db.delete_service import delete_service
 from calibre.srv.changes import formats_removed
 
Index: b/src/calibre/db/cli/cmd_restore_database.py
===================================================================
--- a/src/calibre/db/cli/cmd_restore_database.py
+++ b/src/calibre/db/cli/cmd_restore_database.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from calibre import prints
 from calibre.db.restore import Restore
 
Index: b/src/calibre/db/cli/cmd_saved_searches.py
===================================================================
--- a/src/calibre/db/cli/cmd_saved_searches.py
+++ b/src/calibre/db/cli/cmd_saved_searches.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 readonly = False
 version = 0  # change this if you change signature of implementation()
 
Index: b/src/calibre/db/cli/cmd_search.py
===================================================================
--- a/src/calibre/db/cli/cmd_search.py
+++ b/src/calibre/db/cli/cmd_search.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from calibre import prints
 
 readonly = True
Index: b/src/calibre/db/cli/cmd_set_custom.py
===================================================================
--- a/src/calibre/db/cli/cmd_set_custom.py
+++ b/src/calibre/db/cli/cmd_set_custom.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from calibre import prints
 from calibre.db import _get_series_values
 from calibre.srv.changes import metadata
Index: b/src/calibre/db/cli/cmd_set_metadata.py
===================================================================
--- a/src/calibre/db/cli/cmd_set_metadata.py
+++ b/src/calibre/db/cli/cmd_set_metadata.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 
 from calibre import prints
Index: b/src/calibre/db/cli/cmd_show_metadata.py
===================================================================
--- a/src/calibre/db/cli/cmd_show_metadata.py
+++ b/src/calibre/db/cli/cmd_show_metadata.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import sys
 
 from calibre import prints
Index: b/src/calibre/db/cli/utils.py
===================================================================
--- a/src/calibre/db/cli/utils.py
+++ b/src/calibre/db/cli/utils.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from polyglot.builtins import map
 
 import unicodedata
Index: b/src/calibre/db/copy_to_library.py
===================================================================
--- a/src/calibre/db/copy_to_library.py
+++ b/src/calibre/db/copy_to_library.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from calibre.db.utils import find_identical_books
 from calibre.utils.config import tweaks
 from calibre.utils.date import now
Index: b/src/calibre/db/restore.py
===================================================================
--- a/src/calibre/db/restore.py
+++ b/src/calibre/db/restore.py
@@ -2,7 +2,6 @@
 # vim:fileencoding=UTF-8:ts=4:sw=4:sta:et:sts=4:ai
 
 
-
 __license__   = 'GPL v3'
 __copyright__ = '2010, Kovid Goyal <kovid@kovidgoyal.net>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/devices/cli.py
===================================================================
--- a/src/calibre/devices/cli.py
+++ b/src/calibre/devices/cli.py
@@ -1,7 +1,6 @@
 #!/usr/bin/env python
 
 
-
 __license__   = 'GPL v3'
 __copyright__ = '2008, Kovid Goyal <kovid at kovidgoyal.net>'
 """
Index: b/src/calibre/devices/kindle/bookmark.py
===================================================================
--- a/src/calibre/devices/kindle/bookmark.py
+++ b/src/calibre/devices/kindle/bookmark.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__   = 'GPL v3'
 __docformat__ = 'restructuredtext en'
 
Index: b/src/calibre/devices/kobo/__init__.py
===================================================================
--- a/src/calibre/devices/kobo/__init__.py
+++ b/src/calibre/devices/kobo/__init__.py
@@ -2,7 +2,6 @@
 # vim:fileencoding=UTF-8:ts=4:sw=4:sta:et:sts=4:ai
 
 
-
 __license__   = 'GPL v3'
 __copyright__ = '2010, Kovid Goyal <kovid@kovidgoyal.net>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/devices/smart_device_app/__init__.py
===================================================================
--- a/src/calibre/devices/smart_device_app/__init__.py
+++ b/src/calibre/devices/smart_device_app/__init__.py
@@ -2,7 +2,6 @@
 # vim:fileencoding=UTF-8:ts=4:sw=4:sta:et:sts=4:ai
 
 
-
 __license__   = 'GPL v3'
 __copyright__ = '2010, Kovid Goyal <kovid@kovidgoyal.net>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/devices/usbms/books.py
===================================================================
--- a/src/calibre/devices/usbms/books.py
+++ b/src/calibre/devices/usbms/books.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2009, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/devices/winusb.py
===================================================================
--- a/src/calibre/devices/winusb.py
+++ b/src/calibre/devices/winusb.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os, string, re, sys
 from collections import namedtuple, defaultdict
 from operator import itemgetter
Index: b/src/calibre/ebooks/BeautifulSoup.py
===================================================================
--- a/src/calibre/ebooks/BeautifulSoup.py
+++ b/src/calibre/ebooks/BeautifulSoup.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import bs4
 from bs4 import (  # noqa
     CData, Comment, Declaration, NavigableString, ProcessingInstruction,
Index: b/src/calibre/ebooks/conversion/plugins/djvu_input.py
===================================================================
--- a/src/calibre/ebooks/conversion/plugins/djvu_input.py
+++ b/src/calibre/ebooks/conversion/plugins/djvu_input.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, Anthon van der Neut <anthon@mnt.org>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/ebooks/conversion/plugins/htmlz_input.py
===================================================================
--- a/src/calibre/ebooks/conversion/plugins/htmlz_input.py
+++ b/src/calibre/ebooks/conversion/plugins/htmlz_input.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/ebooks/conversion/plugins/htmlz_output.py
===================================================================
--- a/src/calibre/ebooks/conversion/plugins/htmlz_output.py
+++ b/src/calibre/ebooks/conversion/plugins/htmlz_output.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/ebooks/conversion/search_replace.py
===================================================================
--- a/src/calibre/ebooks/conversion/search_replace.py
+++ b/src/calibre/ebooks/conversion/search_replace.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import regex
 
 REGEX_FLAGS = regex.VERSION1 | regex.WORD | regex.FULLCASE | regex.MULTILINE | regex.UNICODE
Index: b/src/calibre/ebooks/epub/pages.py
===================================================================
--- a/src/calibre/ebooks/epub/pages.py
+++ b/src/calibre/ebooks/epub/pages.py
@@ -3,7 +3,6 @@ Add page mapping information to an EPUB
 '''
 
 
-
 __license__   = 'GPL v3'
 __copyright__ = '2008, Marshall T. Vandegrift <llasram@gmail.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/ebooks/htmlz/oeb2html.py
===================================================================
--- a/src/calibre/ebooks/htmlz/oeb2html.py
+++ b/src/calibre/ebooks/htmlz/oeb2html.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/ebooks/lrf/pylrs/pylrfopt.py
===================================================================
--- a/src/calibre/ebooks/lrf/pylrs/pylrfopt.py
+++ b/src/calibre/ebooks/lrf/pylrs/pylrfopt.py
@@ -1,6 +1,5 @@
 
 
-
 def _optimize(tagList, tagName, conversion):
     # copy the tag of interest plus any text
     newTagList = []
Index: b/src/calibre/ebooks/metadata/book/serialize.py
===================================================================
--- a/src/calibre/ebooks/metadata/book/serialize.py
+++ b/src/calibre/ebooks/metadata/book/serialize.py
@@ -3,8 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
-
 from calibre.constants import preferred_encoding
 from calibre.ebooks.metadata.book import SERIALIZABLE_FIELDS
 from calibre.ebooks.metadata.book.base import Metadata
Index: b/src/calibre/ebooks/metadata/kfx.py
===================================================================
--- a/src/calibre/ebooks/metadata/kfx.py
+++ b/src/calibre/ebooks/metadata/kfx.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2015, Kovid Goyal <kovid at kovidgoyal.net>, John Howell <jhowell@acm.org>'
 
 
-
 # Based on work of John Howell reversing the KFX format
 # https://www.mobileread.com/forums/showpost.php?p=3176029&postcount=89
 
Index: b/src/calibre/ebooks/metadata/opf.py
===================================================================
--- a/src/calibre/ebooks/metadata/opf.py
+++ b/src/calibre/ebooks/metadata/opf.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from lxml import etree
 
 from calibre.ebooks.metadata.opf2 import OPF, pretty_print
Index: b/src/calibre/ebooks/metadata/opf3.py
===================================================================
--- a/src/calibre/ebooks/metadata/opf3.py
+++ b/src/calibre/ebooks/metadata/opf3.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import json
 import re
 from collections import defaultdict, namedtuple
Index: b/src/calibre/ebooks/metadata/opf_2_to_3.py
===================================================================
--- a/src/calibre/ebooks/metadata/opf_2_to_3.py
+++ b/src/calibre/ebooks/metadata/opf_2_to_3.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from lxml import etree
 
 from calibre.ebooks.metadata.opf3 import (
Index: b/src/calibre/ebooks/metadata/plucker.py
===================================================================
--- a/src/calibre/ebooks/metadata/plucker.py
+++ b/src/calibre/ebooks/metadata/plucker.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 '''
 Read meta information from Plucker pdb files.
 '''
Index: b/src/calibre/ebooks/metadata/search_internet.py
===================================================================
--- a/src/calibre/ebooks/metadata/search_internet.py
+++ b/src/calibre/ebooks/metadata/search_internet.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from polyglot.builtins import iteritems
 from polyglot.urllib import quote, quote_plus
 
Index: b/src/calibre/ebooks/metadata/snb.py
===================================================================
--- a/src/calibre/ebooks/metadata/snb.py
+++ b/src/calibre/ebooks/metadata/snb.py
@@ -1,7 +1,6 @@
 '''Read meta information from SNB files'''
 
 
-
 __license__   = 'GPL v3'
 __copyright__ = '2010, Li Fanxi <lifanxi@freemindworld.com>'
 
Index: b/src/calibre/ebooks/oeb/polish/download.py
===================================================================
--- a/src/calibre/ebooks/oeb/polish/download.py
+++ b/src/calibre/ebooks/oeb/polish/download.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import cgi
 import mimetypes
 import os
Index: b/src/calibre/ebooks/oeb/polish/upgrade.py
===================================================================
--- a/src/calibre/ebooks/oeb/polish/upgrade.py
+++ b/src/calibre/ebooks/oeb/polish/upgrade.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import sys
 
 from calibre.ebooks.metadata.opf_2_to_3 import upgrade_metadata
Index: b/src/calibre/ebooks/oeb/transforms/unsmarten.py
===================================================================
--- a/src/calibre/ebooks/oeb/transforms/unsmarten.py
+++ b/src/calibre/ebooks/oeb/transforms/unsmarten.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/ebooks/pdb/ereader/reader202.py
===================================================================
--- a/src/calibre/ebooks/pdb/ereader/reader202.py
+++ b/src/calibre/ebooks/pdb/ereader/reader202.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 '''
 Read content from ereader pdb file with a 116 and 202 byte header created by Makebook.
 '''
Index: b/src/calibre/ebooks/pdb/header.py
===================================================================
--- a/src/calibre/ebooks/pdb/header.py
+++ b/src/calibre/ebooks/pdb/header.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 '''
 Read the header data from a pdb file.
 '''
Index: b/src/calibre/ebooks/pdb/plucker/reader.py
===================================================================
--- a/src/calibre/ebooks/pdb/plucker/reader.py
+++ b/src/calibre/ebooks/pdb/plucker/reader.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__   = 'GPL v3'
 __copyright__ = '20011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/ebooks/pdf/develop.py
===================================================================
--- a/src/calibre/ebooks/pdf/develop.py
+++ b/src/calibre/ebooks/pdf/develop.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import sys
 
 from PyQt5.Qt import QApplication, QUrl, QPageLayout, QPageSize, QMarginsF
Index: b/src/calibre/ebooks/pdf/image_writer.py
===================================================================
--- a/src/calibre/ebooks/pdf/image_writer.py
+++ b/src/calibre/ebooks/pdf/image_writer.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import QMarginsF, QPageLayout, QPageSize, QSize
 
 from calibre.constants import filesystem_encoding
Index: b/src/calibre/ebooks/pdf/test_html_writer.py
===================================================================
--- a/src/calibre/ebooks/pdf/test_html_writer.py
+++ b/src/calibre/ebooks/pdf/test_html_writer.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import unittest
 from .html_writer import merge_w_arrays, merge_cmaps
 
Index: b/src/calibre/ebooks/readability/debug.py
===================================================================
--- a/src/calibre/ebooks/readability/debug.py
+++ b/src/calibre/ebooks/readability/debug.py
@@ -1,6 +1,5 @@
 
 
-
 def save_to_file(text, filename):
     with open(filename, 'wb') as f:
         f.write(b'<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />')
Index: b/src/calibre/ebooks/render_html.py
===================================================================
--- a/src/calibre/ebooks/render_html.py
+++ b/src/calibre/ebooks/render_html.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import sys
 
Index: b/src/calibre/gui2/actions/author_mapper.py
===================================================================
--- a/src/calibre/gui2/actions/author_mapper.py
+++ b/src/calibre/gui2/actions/author_mapper.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2015, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from calibre.gui2 import gprefs
 from calibre.gui2.actions import InterfaceAction
 from polyglot.builtins import iteritems, map, range
Index: b/src/calibre/gui2/actions/store.py
===================================================================
--- a/src/calibre/gui2/actions/store.py
+++ b/src/calibre/gui2/actions/store.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/actions/virtual_library.py
===================================================================
--- a/src/calibre/gui2/actions/virtual_library.py
+++ b/src/calibre/gui2/actions/virtual_library.py
@@ -2,8 +2,6 @@
 # vim:fileencoding=utf-8
 # License: GPLv3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
-
-
 from PyQt5.Qt import QToolButton, QAction
 
 from calibre.gui2.actions import InterfaceAction
Index: b/src/calibre/gui2/add_filters.py
===================================================================
--- a/src/calibre/gui2/add_filters.py
+++ b/src/calibre/gui2/add_filters.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2015, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from collections import OrderedDict
 from polyglot.builtins import map, unicode_type
 
Index: b/src/calibre/gui2/author_mapper.py
===================================================================
--- a/src/calibre/gui2/author_mapper.py
+++ b/src/calibre/gui2/author_mapper.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from collections import OrderedDict
 
 from calibre.ebooks.metadata import authors_to_string, string_to_authors
Index: b/src/calibre/gui2/changes.py
===================================================================
--- a/src/calibre/gui2/changes.py
+++ b/src/calibre/gui2/changes.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from calibre.srv.changes import (
     BooksAdded, BooksDeleted, FormatsAdded, FormatsRemoved, MetadataChanged,
     SavedSearchesChanged
Index: b/src/calibre/gui2/convert/single.py
===================================================================
--- a/src/calibre/gui2/convert/single.py
+++ b/src/calibre/gui2/convert/single.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2009, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import shutil
 
 from PyQt5.Qt import (
Index: b/src/calibre/gui2/css_transform_rules.py
===================================================================
--- a/src/calibre/gui2/css_transform_rules.py
+++ b/src/calibre/gui2/css_transform_rules.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import (
     QWidget, QVBoxLayout, QHBoxLayout, QLabel, QComboBox, QLineEdit,
     QPushButton, QSize, pyqtSignal, QMenu
Index: b/src/calibre/gui2/dialogs/choose_plugin_toolbars.py
===================================================================
--- a/src/calibre/gui2/dialogs/choose_plugin_toolbars.py
+++ b/src/calibre/gui2/dialogs/choose_plugin_toolbars.py
@@ -2,7 +2,6 @@
 # vim:fileencoding=UTF-8:ts=4:sw=4:sta:et:sts=4:ai
 
 
-
 __copyright__ = '2008, Kovid Goyal kovid@kovidgoyal.net'
 __docformat__ = 'restructuredtext en'
 __license__   = 'GPL v3'
Index: b/src/calibre/gui2/dialogs/restore_library.py
===================================================================
--- a/src/calibre/gui2/dialogs/restore_library.py
+++ b/src/calibre/gui2/dialogs/restore_library.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2011, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import (QDialog, QLabel, QVBoxLayout, QDialogButtonBox,
         QProgressBar, QSize, QTimer, pyqtSignal, Qt)
 
Index: b/src/calibre/gui2/dialogs/saved_search_editor.py
===================================================================
--- a/src/calibre/gui2/dialogs/saved_search_editor.py
+++ b/src/calibre/gui2/dialogs/saved_search_editor.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2008, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import (
     QFormLayout, QIcon, QLabel, QLineEdit, QListWidget, Qt, QVBoxLayout
 )
Index: b/src/calibre/gui2/ebook_download.py
===================================================================
--- a/src/calibre/gui2/ebook_download.py
+++ b/src/calibre/gui2/ebook_download.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/layout_menu.py
===================================================================
--- a/src/calibre/gui2/layout_menu.py
+++ b/src/calibre/gui2/layout_menu.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import (
     QFontMetrics, QHBoxLayout, QIcon, QMenu, QPainter, QPushButton, QSize,
     QSizePolicy, Qt, QWidget, QStyleOption, QStyle)
Index: b/src/calibre/gui2/pin_columns.py
===================================================================
--- a/src/calibre/gui2/pin_columns.py
+++ b/src/calibre/gui2/pin_columns.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import QSplitter, QTableView
 
 from calibre.gui2.library import DEFAULT_SORT
Index: b/src/calibre/gui2/preferences/emailp.py
===================================================================
--- a/src/calibre/gui2/preferences/emailp.py
+++ b/src/calibre/gui2/preferences/emailp.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2010, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import re
 import textwrap
 
Index: b/src/calibre/gui2/preferences/tweaks.py
===================================================================
--- a/src/calibre/gui2/preferences/tweaks.py
+++ b/src/calibre/gui2/preferences/tweaks.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2010, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import textwrap
 from collections import OrderedDict
 from functools import partial
Index: b/src/calibre/gui2/progress_indicator/__init__.py
===================================================================
--- a/src/calibre/gui2/progress_indicator/__init__.py
+++ b/src/calibre/gui2/progress_indicator/__init__.py
@@ -2,8 +2,6 @@
 # vim:fileencoding=utf-8
 # License: GPLv3 Copyright: 2015, Kovid Goyal <kovid at kovidgoyal.net>
 
-
-
 from PyQt5.Qt import (
     QDialog, QLabel, QSizePolicy, QStackedLayout, QStackedWidget, Qt, QVBoxLayout,
     QWidget
Index: b/src/calibre/gui2/qt_file_dialogs.py
===================================================================
--- a/src/calibre/gui2/qt_file_dialogs.py
+++ b/src/calibre/gui2/qt_file_dialogs.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 
 from PyQt5.Qt import QFileDialog, QObject
Index: b/src/calibre/gui2/splash_screen.py
===================================================================
--- a/src/calibre/gui2/splash_screen.py
+++ b/src/calibre/gui2/splash_screen.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import (
     QApplication, QBrush, QColor, QFont, QFontMetrics, QPen, QPixmap, QSplashScreen,
     Qt
Index: b/src/calibre/gui2/store/__init__.py
===================================================================
--- a/src/calibre/gui2/store/__init__.py
+++ b/src/calibre/gui2/store/__init__.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/basic_config.py
===================================================================
--- a/src/calibre/gui2/store/basic_config.py
+++ b/src/calibre/gui2/store/basic_config.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/config/chooser/adv_search_builder.py
===================================================================
--- a/src/calibre/gui2/store/config/chooser/adv_search_builder.py
+++ b/src/calibre/gui2/store/config/chooser/adv_search_builder.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/config/chooser/chooser_dialog.py
===================================================================
--- a/src/calibre/gui2/store/config/chooser/chooser_dialog.py
+++ b/src/calibre/gui2/store/config/chooser/chooser_dialog.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/config/chooser/chooser_widget.py
===================================================================
--- a/src/calibre/gui2/store/config/chooser/chooser_widget.py
+++ b/src/calibre/gui2/store/config/chooser/chooser_widget.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/config/chooser/models.py
===================================================================
--- a/src/calibre/gui2/store/config/chooser/models.py
+++ b/src/calibre/gui2/store/config/chooser/models.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/config/chooser/results_view.py
===================================================================
--- a/src/calibre/gui2/store/config/chooser/results_view.py
+++ b/src/calibre/gui2/store/config/chooser/results_view.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/config/search/search_widget.py
===================================================================
--- a/src/calibre/gui2/store/config/search/search_widget.py
+++ b/src/calibre/gui2/store/config/search/search_widget.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/config/store.py
===================================================================
--- a/src/calibre/gui2/store/config/store.py
+++ b/src/calibre/gui2/store/config/store.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/opensearch_store.py
===================================================================
--- a/src/calibre/gui2/store/opensearch_store.py
+++ b/src/calibre/gui2/store/opensearch_store.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/search/adv_search_builder.py
===================================================================
--- a/src/calibre/gui2/store/search/adv_search_builder.py
+++ b/src/calibre/gui2/store/search/adv_search_builder.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/search/download_thread.py
===================================================================
--- a/src/calibre/gui2/store/search/download_thread.py
+++ b/src/calibre/gui2/store/search/download_thread.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/search/models.py
===================================================================
--- a/src/calibre/gui2/store/search/models.py
+++ b/src/calibre/gui2/store/search/models.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/search/results_view.py
===================================================================
--- a/src/calibre/gui2/store/search/results_view.py
+++ b/src/calibre/gui2/store/search/results_view.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/search/search.py
===================================================================
--- a/src/calibre/gui2/store/search/search.py
+++ b/src/calibre/gui2/store/search/search.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/search_result.py
===================================================================
--- a/src/calibre/gui2/store/search_result.py
+++ b/src/calibre/gui2/store/search_result.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/gui2/store/web_store.py
===================================================================
--- a/src/calibre/gui2/store/web_store.py
+++ b/src/calibre/gui2/store/web_store.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import json
 import os
 import shutil
Index: b/src/calibre/gui2/store/web_store_dialog.py
===================================================================
--- a/src/calibre/gui2/store/web_store_dialog.py
+++ b/src/calibre/gui2/store/web_store_dialog.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import json
 from base64 import standard_b64encode
 from itertools import count
Index: b/src/calibre/gui2/tag_mapper.py
===================================================================
--- a/src/calibre/gui2/tag_mapper.py
+++ b/src/calibre/gui2/tag_mapper.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2015, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from collections import OrderedDict
 import textwrap
 
Index: b/src/calibre/gui2/toc/main.py
===================================================================
--- a/src/calibre/gui2/toc/main.py
+++ b/src/calibre/gui2/toc/main.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2013, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import sys
 import textwrap
Index: b/src/calibre/gui2/tweak_book/check_links.py
===================================================================
--- a/src/calibre/gui2/tweak_book/check_links.py
+++ b/src/calibre/gui2/tweak_book/check_links.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2015, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from collections import defaultdict
 from threading import Thread
 
Index: b/src/calibre/gui2/tweak_book/editor/comments.py
===================================================================
--- a/src/calibre/gui2/tweak_book/editor/comments.py
+++ b/src/calibre/gui2/tweak_book/editor/comments.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2015, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import QTextCursor
 
 opening_map = {
Index: b/src/calibre/gui2/tweak_book/text_search.py
===================================================================
--- a/src/calibre/gui2/tweak_book/text_search.py
+++ b/src/calibre/gui2/tweak_book/text_search.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import (
     QWidget, QHBoxLayout, QVBoxLayout, QLabel, QComboBox, QPushButton, QIcon,
     pyqtSignal, QFont, QCheckBox, QSizePolicy
Index: b/src/calibre/gui2/viewer/annotations.py
===================================================================
--- a/src/calibre/gui2/viewer/annotations.py
+++ b/src/calibre/gui2/viewer/annotations.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from collections import defaultdict
 from io import BytesIO
 from operator import itemgetter
Index: b/src/calibre/gui2/viewer/bookmarks.py
===================================================================
--- a/src/calibre/gui2/viewer/bookmarks.py
+++ b/src/calibre/gui2/viewer/bookmarks.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2013, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import json
 
 from PyQt5.Qt import (
Index: b/src/calibre/gui2/viewer/convert_book.py
===================================================================
--- a/src/calibre/gui2/viewer/convert_book.py
+++ b/src/calibre/gui2/viewer/convert_book.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import errno
 import json
 import os
Index: b/src/calibre/gui2/viewer/lookup.py
===================================================================
--- a/src/calibre/gui2/viewer/lookup.py
+++ b/src/calibre/gui2/viewer/lookup.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import sys
 
Index: b/src/calibre/gui2/viewer/main.py
===================================================================
--- a/src/calibre/gui2/viewer/main.py
+++ b/src/calibre/gui2/viewer/main.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import sys
 from threading import Thread
Index: b/src/calibre/gui2/viewer/overlay.py
===================================================================
--- a/src/calibre/gui2/viewer/overlay.py
+++ b/src/calibre/gui2/viewer/overlay.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import QWidget, Qt, QFontInfo, QLabel, QVBoxLayout
 
 from calibre.gui2.progress_indicator import ProgressIndicator
Index: b/src/calibre/gui2/viewer/shortcuts.py
===================================================================
--- a/src/calibre/gui2/viewer/shortcuts.py
+++ b/src/calibre/gui2/viewer/shortcuts.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from PyQt5.Qt import QKeySequence, QMainWindow, Qt
 
 
Index: b/src/calibre/gui2/viewer/toc.py
===================================================================
--- a/src/calibre/gui2/viewer/toc.py
+++ b/src/calibre/gui2/viewer/toc.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import re
 from functools import partial
 
Index: b/src/calibre/gui2/viewer/toolbars.py
===================================================================
--- a/src/calibre/gui2/viewer/toolbars.py
+++ b/src/calibre/gui2/viewer/toolbars.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 from functools import partial
 
Index: b/src/calibre/gui2/viewer/ui.py
===================================================================
--- a/src/calibre/gui2/viewer/ui.py
+++ b/src/calibre/gui2/viewer/ui.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import json
 import os
 import re
Index: b/src/calibre/gui2/viewer/web_view.py
===================================================================
--- a/src/calibre/gui2/viewer/web_view.py
+++ b/src/calibre/gui2/viewer/web_view.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import shutil
 import sys
Index: b/src/calibre/gui2/webengine.py
===================================================================
--- a/src/calibre/gui2/webengine.py
+++ b/src/calibre/gui2/webengine.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import json
 
 from PyQt5.Qt import QObject, Qt, pyqtSignal
Index: b/src/calibre/gui2/widgets2.py
===================================================================
--- a/src/calibre/gui2/widgets2.py
+++ b/src/calibre/gui2/widgets2.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2013, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import weakref
 
 from PyQt5.Qt import (
Index: b/src/calibre/library/comments.py
===================================================================
--- a/src/calibre/library/comments.py
+++ b/src/calibre/library/comments.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2010, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import re
 
 from calibre import prepare_string_for_xml
Index: b/src/calibre/srv/books.py
===================================================================
--- a/src/calibre/srv/books.py
+++ b/src/calibre/srv/books.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import errno
 import json as jsonlib
 import os
Index: b/src/calibre/srv/cdb.py
===================================================================
--- a/src/calibre/srv/cdb.py
+++ b/src/calibre/srv/cdb.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 from functools import partial
 from io import BytesIO
Index: b/src/calibre/srv/code.py
===================================================================
--- a/src/calibre/srv/code.py
+++ b/src/calibre/srv/code.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2015, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import hashlib
 import os
 import random
Index: b/src/calibre/srv/convert.py
===================================================================
--- a/src/calibre/srv/convert.py
+++ b/src/calibre/srv/convert.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import shutil
 import tempfile
Index: b/src/calibre/srv/legacy.py
===================================================================
--- a/src/calibre/srv/legacy.py
+++ b/src/calibre/srv/legacy.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from functools import partial
 
 from lxml.html import tostring
Index: b/src/calibre/srv/library_broker.py
===================================================================
--- a/src/calibre/srv/library_broker.py
+++ b/src/calibre/srv/library_broker.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 from collections import OrderedDict, defaultdict
 from threading import RLock as Lock
Index: b/src/calibre/srv/render_book.py
===================================================================
--- a/src/calibre/srv/render_book.py
+++ b/src/calibre/srv/render_book.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import json
 import os
 import re
Index: b/src/calibre/srv/users_api.py
===================================================================
--- a/src/calibre/srv/users_api.py
+++ b/src/calibre/srv/users_api.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import json
 
 from calibre import as_unicode
Index: b/src/calibre/srv/web_socket.py
===================================================================
--- a/src/calibre/srv/web_socket.py
+++ b/src/calibre/srv/web_socket.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2015, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import socket
 import weakref
Index: b/src/calibre/translations/msgfmt.py
===================================================================
--- a/src/calibre/translations/msgfmt.py
+++ b/src/calibre/translations/msgfmt.py
@@ -3,7 +3,6 @@
 # Written by Martin v. Lwis <loewis@informatik.hu-berlin.de>
 
 
-
 """Generate binary message catalog from textual translation description.
 
 This program converts a textual Uniforum-style message catalog (.po file) into
Index: b/src/calibre/utils/__init__.py
===================================================================
--- a/src/calibre/utils/__init__.py
+++ b/src/calibre/utils/__init__.py
@@ -1,7 +1,6 @@
 #!/usr/bin/env python
 
 
-
 __license__   = 'GPL v3'
 __copyright__ = '2008, Kovid Goyal kovid@kovidgoyal.net'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/utils/file_type_icons.py
===================================================================
--- a/src/calibre/utils/file_type_icons.py
+++ b/src/calibre/utils/file_type_icons.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2015, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 EXT_MAP = {
     'default' : 'unknown',
     'dir'     : 'dir',
Index: b/src/calibre/utils/fonts/sfnt/merge.py
===================================================================
--- a/src/calibre/utils/fonts/sfnt/merge.py
+++ b/src/calibre/utils/fonts/sfnt/merge.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from collections import OrderedDict
 from functools import partial
 
Index: b/src/calibre/utils/html2text.py
===================================================================
--- a/src/calibre/utils/html2text.py
+++ b/src/calibre/utils/html2text.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 def html2text(html):
     from html2text import HTML2Text
     import re
Index: b/src/calibre/utils/network.py
===================================================================
--- a/src/calibre/utils/network.py
+++ b/src/calibre/utils/network.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2010, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from calibre.constants import iswindows, islinux, isbsd
 from calibre.utils.config_base import tweaks
 
Index: b/src/calibre/utils/opensearch/description.py
===================================================================
--- a/src/calibre/utils/opensearch/description.py
+++ b/src/calibre/utils/opensearch/description.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '''
 2011, John Schember <john@nachtimwald.com>,
Index: b/src/calibre/utils/opensearch/query.py
===================================================================
--- a/src/calibre/utils/opensearch/query.py
+++ b/src/calibre/utils/opensearch/query.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2006, Ed Summers <ehs@pobox.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/utils/opensearch/url.py
===================================================================
--- a/src/calibre/utils/opensearch/url.py
+++ b/src/calibre/utils/opensearch/url.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2006, Ed Summers <ehs@pobox.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/utils/random_ua.py
===================================================================
--- a/src/calibre/utils/random_ua.py
+++ b/src/calibre/utils/random_ua.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import json
 import random
 
Index: b/src/calibre/utils/search_query_parser_test.py
===================================================================
--- a/src/calibre/utils/search_query_parser_test.py
+++ b/src/calibre/utils/search_query_parser_test.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import operator
 import unittest
 
Index: b/src/calibre/utils/smartypants.py
===================================================================
--- a/src/calibre/utils/smartypants.py
+++ b/src/calibre/utils/smartypants.py
@@ -2,7 +2,6 @@
 # vim:fileencoding=utf-8
 
 
-
 __author__ = "Chad Miller <smartypantspy@chad.org>, Kovid Goyal <kovid at kovidgoyal.net>"
 __description__ = "Smart-quotes, smart-ellipses, and smart-dashes for weblog entries in pyblosxom"
 
Index: b/src/calibre/utils/speedups.py
===================================================================
--- a/src/calibre/utils/speedups.py
+++ b/src/calibre/utils/speedups.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2016, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 from polyglot.builtins import range, unicode_type
 
Index: b/src/calibre/utils/tdir_in_cache.py
===================================================================
--- a/src/calibre/utils/tdir_in_cache.py
+++ b/src/calibre/utils/tdir_in_cache.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import atexit
 import errno
 import os
Index: b/src/calibre/utils/test_lock.py
===================================================================
--- a/src/calibre/utils/test_lock.py
+++ b/src/calibre/utils/test_lock.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2017, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import shutil
 import subprocess
Index: b/src/calibre/utils/text2int.py
===================================================================
--- a/src/calibre/utils/text2int.py
+++ b/src/calibre/utils/text2int.py
@@ -1,7 +1,6 @@
 #!/usr/bin/env python
 
 
-
 __author__ = "stackoverflow community"
 __docformat__ = 'restructuredtext en'
 """
Index: b/src/calibre/utils/unicode_names.py
===================================================================
--- a/src/calibre/utils/unicode_names.py
+++ b/src/calibre/utils/unicode_names.py
@@ -3,7 +3,6 @@
 # License: GPLv3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from collections import defaultdict
 
 from calibre.constants import plugins
Index: b/src/calibre/utils/unsmarten.py
===================================================================
--- a/src/calibre/utils/unsmarten.py
+++ b/src/calibre/utils/unsmarten.py
@@ -1,7 +1,6 @@
 # -*- coding: utf-8 -*-
 
 
-
 __license__ = 'GPL 3'
 __copyright__ = '2011, John Schember <john@nachtimwald.com>'
 __docformat__ = 'restructuredtext en'
Index: b/src/calibre/utils/windows/wintest.py
===================================================================
--- a/src/calibre/utils/windows/wintest.py
+++ b/src/calibre/utils/windows/wintest.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 import os
 import unittest
 from polyglot.builtins import unicode_type
Index: b/src/calibre/utils/wordcount.py
===================================================================
--- a/src/calibre/utils/wordcount.py
+++ b/src/calibre/utils/wordcount.py
@@ -2,7 +2,6 @@
 # vim:fileencoding=UTF-8:ts=4:sw=4:sta:et:sts=4:ai
 
 
-
 """
 Get word, character, and Asian character counts
 
Index: b/src/polyglot/binary.py
===================================================================
--- a/src/polyglot/binary.py
+++ b/src/polyglot/binary.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from base64 import standard_b64decode, standard_b64encode
 from binascii import hexlify, unhexlify
 
Index: b/src/polyglot/io.py
===================================================================
--- a/src/polyglot/io.py
+++ b/src/polyglot/io.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2019, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from io import StringIO, BytesIO
 
 
Index: b/src/polyglot/urllib.py
===================================================================
--- a/src/polyglot/urllib.py
+++ b/src/polyglot/urllib.py
@@ -3,7 +3,6 @@
 # License: GPL v3 Copyright: 2018, Kovid Goyal <kovid at kovidgoyal.net>
 
 
-
 from urllib.request import (build_opener, getproxies, install_opener,  # noqa
         HTTPBasicAuthHandler, HTTPCookieProcessor, HTTPDigestAuthHandler,  # noqa
         url2pathname, urlopen, Request)  # noqa
Index: b/src/tinycss/decoding.py
===================================================================
--- a/src/tinycss/decoding.py
+++ b/src/tinycss/decoding.py
@@ -11,7 +11,6 @@
 """
 
 
-
 import operator
 import re
 
Index: b/src/tinycss/parsing.py
===================================================================
--- a/src/tinycss/parsing.py
+++ b/src/tinycss/parsing.py
@@ -10,8 +10,6 @@
 """
 
 
-
-
 # TODO: unit tests
 
 def split_on_comma(tokens):
Index: b/src/tinycss/token_data.py
===================================================================
--- a/src/tinycss/token_data.py
+++ b/src/tinycss/token_data.py
@@ -10,7 +10,6 @@
 """
 
 
-
 import re
 import sys
 import operator
Index: b/src/tinycss/tokenizer.py
===================================================================
--- a/src/tinycss/tokenizer.py
+++ b/src/tinycss/tokenizer.py
@@ -13,7 +13,6 @@
 """
 
 
-
 from tinycss import token_data
 
 
