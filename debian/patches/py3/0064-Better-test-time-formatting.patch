From 01dd17c173c22897556e861d1f6ece24f9c91baa Mon Sep 17 00:00:00 2001
From: Kovid Goyal <kovid@kovidgoyal.net>
Date: Thu, 5 Dec 2019 20:53:52 +0530
Subject: [PATCH 064/125] Better test time formatting

---
 src/calibre/utils/run_tests.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/calibre/utils/run_tests.py b/src/calibre/utils/run_tests.py
index 9cf8689141..676667152e 100644
--- a/src/calibre/utils/run_tests.py
+++ b/src/calibre/utils/run_tests.py
@@ -42,13 +42,13 @@ class TestResult(unittest.TextTestResult):
         elapsed -= self.start_time.get(test, elapsed)
         self.times[test] = elapsed
         self.stream.writeln = orig
-        self.stream.writeln(' [%.1g s]' % elapsed)
+        self.stream.writeln(' [%.1f s]' % elapsed)
 
     def stopTestRun(self):
         super(TestResult, self).stopTestRun()
         if self.wasSuccessful():
             tests = sorted(self.times, key=self.times.get, reverse=True)
-            slowest = ['%s [%g s]' % (t.id(), self.times[t]) for t in tests[:3]]
+            slowest = ['%s [%.1f s]' % (t.id(), self.times[t]) for t in tests[:3]]
             if len(slowest) > 1:
                 self.stream.writeln('\nSlowest tests: %s' % ' '.join(slowest))
 
-- 
2.27.0

