From: YOKOTA Hiroshi <yokota.hgml@gmail.com>
Date: Mon, 22 Sep 2025 03:27:39 +0900
Subject: Tweak link options for embedded PoDoFo

Forwarded: not-needed
---
 setup/extensions.json | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/setup/extensions.json b/setup/extensions.json
index b39ce6d..0925b1c 100644
--- a/setup/extensions.json
+++ b/setup/extensions.json
@@ -128,7 +128,8 @@
         "name": "podofo",
         "sources": "calibre/utils/podofo/utils.cpp calibre/utils/podofo/output.cpp calibre/utils/podofo/doc.cpp calibre/utils/podofo/outline.cpp calibre/utils/podofo/fonts.cpp calibre/utils/podofo/impose.cpp calibre/utils/podofo/images.cpp calibre/utils/podofo/outlines.cpp calibre/utils/podofo/podofo.cpp",
         "headers": "calibre/utils/podofo/global.h",
-        "libraries": "!podofo",
+        "libraries": "!podofo podofo_private freetype",
+        "ldflags": "-Lpodofo/src/podofo/private",
         "lib_dirs": "!podofo_lib_dirs",
         "inc_dirs": "!podofo_inc_dirs",
         "error": "!podofo_error",
