From: YOKOTA Hiroshi <qykth-git@users.noreply.github.com>
Date: Sat, 30 Nov 2019 15:05:43 +0900
Subject: [PATCH] Remove Qt4 hack

PyQt5 is already standard
---
 src/calibre/startup.py |   13 -------------
 1 file changed, 13 deletions(-)

Index: b/src/calibre/startup.py
===================================================================
--- a/src/calibre/startup.py
+++ b/src/calibre/startup.py
@@ -30,19 +30,6 @@ if not _run_once:
     _run_once = True
     from importlib import import_module
 
-    if not isfrozen and not ispy3:
-        # Prevent PyQt4 from being loaded
-        class PyQt4Ban(object):
-
-            def find_module(self, fullname, path=None):
-                if fullname.startswith('PyQt4'):
-                    return self
-
-            def load_module(self, fullname):
-                raise ImportError('Importing PyQt4 is not allowed as calibre uses PyQt5')
-
-        sys.meta_path.insert(0, PyQt4Ban())
-
     class DeVendor(object):
 
         if ispy3:
