From: Kovid Goyal <kovid@kovidgoyal.net>
Date: Mon, 8 Dec 2025 09:17:22 +0530
Subject: Nicer error message when not passing caalog filename as first arg to
 calibredb catalog

Forwarded: not-needed
---
 src/calibre/db/cli/cmd_catalog.py | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/calibre/db/cli/cmd_catalog.py b/src/calibre/db/cli/cmd_catalog.py
index 0f01c23..6904f1f 100644
--- a/src/calibre/db/cli/cmd_catalog.py
+++ b/src/calibre/db/cli/cmd_catalog.py
@@ -87,6 +87,8 @@ see the different options, specify the name of the output file and then the
         help=_('Show detailed output information. Useful for debugging')
     )
     fmt = 'epub'
+    if args and args[0].startswith('-'):
+        raise SystemExit('Must specify the catalog output filename before any options')
     if args and '.' in args[0]:
         fmt = args[0].rpartition('.')[-1].lower()
         if fmt not in available_catalog_formats():
